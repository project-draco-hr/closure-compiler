{
  if (n.isFor() && n.getChildCount() == 3) {
    Node body=n.getLastChild();
    n.removeChild(body);
    Node key=n.getFirstChild();
    n.removeChild(key);
    Node tmp=IR.name("JSCompiler_IgnoreCajaProperties_" + counter++);
    n.addChildToFront(IR.var(tmp));
    Node assignment;
    Node ifBody;
    if (key.isVar()) {
      ifBody=IR.block(key,IR.exprResult(IR.assign(key.getFirstChild().cloneNode(),tmp.cloneTree())),body);
    }
 else {
      ifBody=IR.block(IR.exprResult(IR.assign(key,tmp.cloneTree())),body);
    }
    Node newBody=IR.block(IR.ifNode(IR.not(IR.call(IR.getprop(tmp.cloneTree(),IR.string("match")),IR.regexp(IR.string("___$")))),ifBody));
    n.addChildToBack(newBody);
    compiler.reportCodeChange();
  }
}

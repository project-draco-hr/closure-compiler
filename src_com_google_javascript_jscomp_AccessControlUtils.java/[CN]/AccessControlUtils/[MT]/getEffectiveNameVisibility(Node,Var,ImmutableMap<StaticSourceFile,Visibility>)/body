{
  JSDocInfo jsDocInfo=var.getJSDocInfo();
  Visibility raw=(jsDocInfo == null || jsDocInfo.getVisibility() == null) ? Visibility.INHERITED : jsDocInfo.getVisibility();
  if (raw != Visibility.INHERITED) {
    return raw;
  }
  Visibility defaultVisibilityForFile=fileVisibilityMap.get(var.getSourceFile());
  JSType type=name.getJSType();
  boolean createdFromGoogProvide=(type instanceof PrototypeObjectType && ((PrototypeObjectType)type).isAnonymous());
  return (createdFromGoogProvide || defaultVisibilityForFile == null) ? raw : defaultVisibilityForFile;
}

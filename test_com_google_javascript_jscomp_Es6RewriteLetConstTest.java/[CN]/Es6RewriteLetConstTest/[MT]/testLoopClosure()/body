{
  test(Joiner.on('\n').join("const arr = [];","for (let i = 0; i < 10; i++) {","  arr.push(function() { return i; });","}"),Joiner.on('\n').join("/** @const */ var arr = [];","var $jscomp$loop$0 = {i: undefined};","$jscomp$loop$0.i = 0;","for (; $jscomp$loop$0.i < 10;","    $jscomp$loop$0 = {i: $jscomp$loop$0.i}, $jscomp$loop$0.i++) {","  arr.push((function($jscomp$loop$0) {","      return function() { return $jscomp$loop$0.i; };","  })($jscomp$loop$0));","}"));
  test(Joiner.on('\n').join("const arr = [];","for (let i = 0; i < 10; i++) {","  let y = i;","  arr.push(function() { return y; });","}"),Joiner.on('\n').join("/** @const */ var arr = [];","var $jscomp$loop$0 = {y: undefined};","var i = 0;","for (; i < 10; $jscomp$loop$0 = {y: $jscomp$loop$0.y}, i++) {","  $jscomp$loop$0.y = i;","  arr.push((function($jscomp$loop$0) {","      return function() { return $jscomp$loop$0.y; };","  })($jscomp$loop$0));","}"));
  test(Joiner.on('\n').join("const arr = [];","while (true) {","  let i = 0;","  arr.push(function() { return i; });","}"),Joiner.on('\n').join("/** @const */ var arr = [];","var $jscomp$loop$0 = {i: undefined}","while (true) {","  $jscomp$loop$0.i = 0;","  arr.push((function($jscomp$loop$0) {","      return function() { return $jscomp$loop$0.i; };","  })($jscomp$loop$0));","  $jscomp$loop$0 = {i: $jscomp$loop$0.i}","}"));
  test(Joiner.on('\n').join("const arr = [];","for (let i = 0; i < 10; i++) {","  let y = i;","  arr.push(function() { return y + i; });","}"),Joiner.on('\n').join("/** @const */ var arr = [];","var $jscomp$loop$0 = {y: undefined, i: undefined};","$jscomp$loop$0.i = 0;","for (; $jscomp$loop$0.i < 10;","    $jscomp$loop$0 = {y: $jscomp$loop$0.y, i: $jscomp$loop$0.i},","        $jscomp$loop$0.i++) {","  $jscomp$loop$0.y = $jscomp$loop$0.i;","  arr.push((function($jscomp$loop$0) {","          return function() {","              return $jscomp$loop$0.y + $jscomp$loop$0.i;","          };","  }($jscomp$loop$0)));","}"));
  test(Joiner.on('\n').join("const arr = [];","let x = 0","for (let i = 0; i < 10; i++) {","  let i = x + 1;","  arr.push(function() { return i + i; });","  x++;","}"),Joiner.on('\n').join("/** @const */ var arr = [];","var x = 0","var $jscomp$loop$1 = {i$0: undefined};","var i = 0;","for (; i < 10; $jscomp$loop$1 = {i$0: $jscomp$loop$1.i$0}, i++) {","  $jscomp$loop$1.i$0 = x + 1;","  arr.push((function($jscomp$loop$1) {","      return function() {","          return $jscomp$loop$1.i$0 + $jscomp$loop$1.i$0;","      };","  }($jscomp$loop$1)));","  x++;","}"));
  test(Joiner.on('\n').join("const arr = [];","let x = 0","for (let i = 0; i < 10; i++) {","  arr.push(function() { return i + i; });","  let i = x + 1;","  arr.push(function() { return i + i; });","  x++;","}"),Joiner.on('\n').join("/** @const */ var arr = [];","var x = 0","var $jscomp$loop$1 = {i$0: undefined};","var i = 0;","for (; i < 10; $jscomp$loop$1 = {i$0: $jscomp$loop$1.i$0}, i++) {","  arr.push((function($jscomp$loop$1) {","      return function() {","          return $jscomp$loop$1.i$0 + $jscomp$loop$1.i$0;","      };","  }($jscomp$loop$1)));","  $jscomp$loop$1.i$0 = x + 1;","  arr.push((function($jscomp$loop$1) {","      return function() {","          return $jscomp$loop$1.i$0 + $jscomp$loop$1.i$0;","      };","  }($jscomp$loop$1)));","  x++;","}"));
  test(Joiner.on('\n').join("for (let i = 0; i < 10; i++) {","  if (true) {","    let i = x - 1;","    arr.push(function() { return i + i; });","  }","  let i = x + 1;","  arr.push(function() { return i + i; });","  x++;","}"),Joiner.on('\n').join("var $jscomp$loop$2 = {i$0 : undefined, i$1: undefined};","var i = 0;","for (; i < 10;","    $jscomp$loop$2 = {i$0: $jscomp$loop$2.i$0, i$1: $jscomp$loop$2.i$1}, i++) {","  if (true) {","    $jscomp$loop$2.i$0 = x - 1;","    arr.push((function($jscomp$loop$2) {","        return function() { return $jscomp$loop$2.i$0 + $jscomp$loop$2.i$0; };","    })($jscomp$loop$2));","  }","  $jscomp$loop$2.i$1 = x + 1;","  arr.push((function($jscomp$loop$2) {","      return function() { return $jscomp$loop$2.i$1 + $jscomp$loop$2.i$1; };","  })($jscomp$loop$2));","  x++;","}"));
}

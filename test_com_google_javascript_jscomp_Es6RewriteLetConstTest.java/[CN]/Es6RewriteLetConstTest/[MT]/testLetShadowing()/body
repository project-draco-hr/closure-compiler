{
  test(Joiner.on('\n').join("function f() {","  var x = 1;","  if (a) {","    let x = 2;","    x = function() { return x; };","  }","  return x;","}"),Joiner.on('\n').join("function f() {","  var x = 1;","  if (a) {","    var x$0 = 2;","    x$0 = function() { return x$0; };","  }","  return x;","}"));
  test(Joiner.on('\n').join("function f() {","  const x = 3;","  if (true) {","    let x;","  }","}"),Joiner.on('\n').join("function f() {","  /** @const */ var x = 3;","  if (true) {","    var x$0 = undefined;","  }","}"));
  test(Joiner.on('\n').join("function f() {","  var x = 1;","  if (a) {","    var g = function() { return x; };","    let x = 2;","    return g();","  }","}"),Joiner.on('\n').join("function f() {","  var x = 1;","  if (a) {","    var g = function() { return x$0; };","    var x$0 = 2;","    return g();","  }","}"));
  test(Joiner.on('\n').join("var x = 2;","function f() {","  x = 1;","  if (a) {","    let x = 2;","  }","}"),Joiner.on('\n').join("var x = 2;","function f() {","  x = 1;","  if (a) {","    var x$0 = 2;","  }","}"));
  test(Joiner.on('\n').join("function f() {","  {","    let inner = 2;","  }","  use(inner)","}"),Joiner.on('\n').join("function f() {","  {","    var inner$0 = 2;","  }","  use(inner)","}"));
}

{
  Preconditions.checkState(compiler.getLifeCycleStage() == LifeCycleStage.NORMALIZED);
  for (  TypeMismatch mis : compiler.getTypeValidator().getMismatches()) {
    addInvalidatingType(mis.typeA,mis.src);
    addInvalidatingType(mis.typeB,mis.src);
  }
  NodeTraversal.traverse(compiler,externs,new FindExternProperties());
  NodeTraversal.traverse(compiler,root,new FindRenameableProperties());
  renameProperties();
}

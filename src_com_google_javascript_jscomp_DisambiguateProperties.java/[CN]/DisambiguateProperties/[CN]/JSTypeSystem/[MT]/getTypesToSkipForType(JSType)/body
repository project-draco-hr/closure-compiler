{
  type=type.restrictByNotNullOrUndefined();
  if (type instanceof UnionType) {
    Set<JSType> types=Sets.newHashSet(type);
    for (    JSType alt : ((UnionType)type).getAlternates()) {
      types.addAll(getTypesToSkipForTypeNonUnion(type));
    }
    return ImmutableSet.copyOf(types);
  }
 else   if (type instanceof EnumElementType) {
    return getTypesToSkipForType(((EnumElementType)type).getPrimitiveType());
  }
  return ImmutableSet.copyOf(getTypesToSkipForTypeNonUnion(type));
}

{
  Preconditions.checkArgument(assign.isAssign());
  Node parent=assign.getParent();
  Node comma=new Node(Token.COMMA);
  comma.copyInformationFrom(assign);
  parent.replaceChild(assign,comma);
  String newName=names.peek().getNextNewName();
  Node newAssign=IR.assign(IR.name(newName),assign.getLastChild().detachFromParent());
  newAssign.copyInformationFromForTree(assign);
  comma.addChildrenToBack(newAssign);
  assign.addChildrenToBack(IR.name(newName).srcref(assign));
  comma.addChildrenToBack(assign);
  Node root=t.getScopeRoot();
  Node var=IR.var(IR.name(newName));
  var.copyInformationFromForTree(assign);
  if (NodeUtil.isStatementBlock(root)) {
    root=compiler.getNodeForCodeInsertion(t.getModule());
    root.addChildrenToFront(var);
  }
 else {
    root.getLastChild().addChildrenToFront(var);
  }
  compiler.reportCodeChange();
}

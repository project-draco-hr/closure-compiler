{
  Preconditions.checkArgument(isPrefix(node) || valueIsDiscarded(node),"Unfolding postfix ++/-- requires that the result be ignored.");
  Node lhs=node.getFirstChild().cloneTree();
  Preconditions.checkArgument(!NodeUtil.mayHaveSideEffects(lhs),"Cannot unfold compound assignment if LHS can have side effects");
  if (isIncrement) {
    lhs=IR.pos(lhs);
  }
  node.setType(Token.ASSIGN);
  Node rhs=new Node(isIncrement ? Token.ADD : Token.SUB,lhs,IR.number(1));
  rhs.copyInformationFromForTree(node);
  node.addChildToBack(rhs);
  compiler.reportCodeChange();
}

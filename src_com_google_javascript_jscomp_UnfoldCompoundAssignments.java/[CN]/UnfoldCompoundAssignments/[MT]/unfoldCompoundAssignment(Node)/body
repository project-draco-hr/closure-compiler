{
  Node lhs=node.getFirstChild();
  Preconditions.checkArgument(!NodeUtil.mayHaveSideEffects(lhs),"Cannot unfold compound assignment if LHS can have side effects");
  Node newRhs=node.cloneTree();
  newRhs.setType(NodeUtil.getOpFromAssignmentOp(node));
  node.replaceChildAfter(lhs,newRhs);
  node.setType(Token.ASSIGN);
  compiler.reportCodeChange();
}

{
  boolean isMember=(functionTree.kind == FunctionDeclarationTree.Kind.MEMBER);
  boolean isExpression=(functionTree.kind == FunctionDeclarationTree.Kind.EXPRESSION);
  IdentifierToken name=functionTree.name;
  Node newName;
  if (name != null) {
    newName=processNameWithInlineJSDoc(name);
  }
 else {
    if (!isExpression) {
      errorReporter.error("unnamed function statement",sourceName,lineno(functionTree),"",charno(functionTree));
      return newNode(Token.EXPR_RESULT,Node.newNumber(0));
    }
    newName=newStringNode(Token.NAME,"");
    newName.setLineno(lineno(functionTree));
    newName.setCharno(charno(functionTree));
    maybeSetLength(newName,0);
  }
  Node node=newNode(Token.FUNCTION);
  if (!isMember) {
    node.addChildToBack(newName);
  }
 else {
    Node emptyName=newStringNode(Token.NAME,"");
    emptyName.setLineno(lineno(functionTree));
    emptyName.setCharno(charno(functionTree));
    maybeSetLength(emptyName,0);
    node.addChildToBack(emptyName);
  }
  node.addChildToBack(transform(functionTree.formalParameterList));
  Node bodyNode=transform(functionTree.functionBody);
  if (!bodyNode.isBlock()) {
    Preconditions.checkState(config.isIdeMode);
    bodyNode=IR.block();
  }
  parseDirectives(bodyNode);
  node.addChildToBack(bodyNode);
  if (functionTree.kind == FunctionDeclarationTree.Kind.MEMBER) {
    setSourceInfo(node,functionTree);
    Node member=newStringNode(Token.MEMBER_DEF,name.value);
    member.addChildToBack(node);
    member.setStaticMember(functionTree.isStatic);
    return member;
  }
 else {
    return node;
  }
}

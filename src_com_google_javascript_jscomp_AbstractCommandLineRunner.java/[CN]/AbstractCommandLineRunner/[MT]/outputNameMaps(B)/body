{
  String propertyMapOutputPath=null;
  String variableMapOutputPath=null;
  String functionInformationMapOutputPath=null;
  if (config.createNameMapFiles) {
    String basePath=getMapPath(options.jsOutputFile);
    propertyMapOutputPath=basePath + "_props_map.out";
    variableMapOutputPath=basePath + "_vars_map.out";
    functionInformationMapOutputPath=basePath + "_functions_map.out";
  }
  if (!config.variableMapOutputFile.equals("")) {
    if (variableMapOutputPath != null) {
      throw new FlagUsageException("The flags variable_map_output_file and " + "create_name_map_files cannot both be used simultaniously.");
    }
    variableMapOutputPath=config.variableMapOutputFile;
  }
  if (!config.propertyMapOutputFile.equals("")) {
    if (propertyMapOutputPath != null) {
      throw new FlagUsageException("The flags property_map_output_file and " + "create_name_map_files cannot both be used simultaniously.");
    }
    propertyMapOutputPath=config.propertyMapOutputFile;
  }
  if (variableMapOutputPath != null) {
    if (compiler.getVariableMap() != null) {
      compiler.getVariableMap().save(variableMapOutputPath);
    }
  }
  if (propertyMapOutputPath != null) {
    if (compiler.getPropertyMap() != null) {
      compiler.getPropertyMap().save(propertyMapOutputPath);
    }
  }
  if (functionInformationMapOutputPath != null) {
    if (compiler.getFunctionalInformationMap() != null) {
      OutputStream file=filenameToOutputStream(functionInformationMapOutputPath);
      CodedOutputStream outputStream=CodedOutputStream.newInstance(file);
      compiler.getFunctionalInformationMap().writeTo(outputStream);
      outputStream.flush();
      file.flush();
      file.close();
    }
  }
}

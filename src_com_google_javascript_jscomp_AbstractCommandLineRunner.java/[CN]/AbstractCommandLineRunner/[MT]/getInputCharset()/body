{
  if (!FLAG_charset.get().isEmpty()) {
    if (!Charset.isSupported(FLAG_charset.get())) {
      throw new FlagUsageException(FLAG_charset.get() + " is not a valid charset name.");
    }
    return Charset.forName(FLAG_charset.get());
  }
  return Charsets.UTF_8;
}

{
  C type=null;
  if (isUnion()) {
    List<C> list=Lists.newArrayList();
    for (    ConcreteType alt : toUnion().getAlternatives()) {
      if ((type=filter.filter(alt)) != null) {
        list.add(type);
      }
    }
    return list;
  }
 else   if ((type=filter.filter(this)) != null) {
    List<C> list=Lists.newArrayList();
    list.add(type);
    return list;
  }
 else {
    return filter.emptyList;
  }
}

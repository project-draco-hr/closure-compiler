{
  Compiler compiler=new Compiler();
  List<SourceFile> externs=ImmutableList.of();
  List<SourceFile> inputs=ImmutableList.of(SourceFile.fromCode("input",code));
  compiler.init(externs,inputs,new CompilerOptions());
  compiler.parseInputs();
  assertEquals("Expected error",1,compiler.getErrorCount());
  JSError error=Iterables.getOnlyElement(Lists.newArrayList(compiler.getErrors()));
  assertEquals(type,error.getType());
  assertEquals(description,error.description);
  return error;
}

{
  Compiler compiler=new Compiler();
  JSSourceFile[] externs=new JSSourceFile[]{};
  JSSourceFile[] inputs=new JSSourceFile[]{JSSourceFile.fromCode("input",code)};
  compiler.init(externs,inputs,new CompilerOptions());
  compiler.parseInputs();
  assertEquals("Expected error",1,compiler.getErrorCount());
  JSError error=Iterables.getOnlyElement(Lists.newArrayList(compiler.getErrors()));
  assertEquals(type,error.getType());
  assertEquals(description,error.description);
}

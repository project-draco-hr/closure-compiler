{
  Compiler compiler=parseCode(code);
  assertEquals("Expected warning",1,compiler.getWarningCount());
  JSError error=Iterables.getOnlyElement(Lists.newArrayList(compiler.getWarnings()));
  assertEquals(type,error.getType());
  assertEquals(description,error.description);
  return error;
}

{
  Preconditions.checkNotNull(root);
  Preconditions.checkArgument(root.getType() == Token.BLOCK || root.getType() == Token.SCRIPT);
  JsonML rootElement=new JsonML(TagType.BlockStmt);
  if (root.getType() == Token.SCRIPT) {
    processNode(root,rootElement);
    return rootElement.getChild(0);
  }
 else {
    Node child=root.getFirstChild();
    while (child != null) {
      processNode(child,rootElement);
      child=child.getNext();
    }
    return rootElement.getChild(0);
  }
}

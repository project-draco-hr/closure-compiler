{
  for (; ; ) {
    if (y == null || y == Undefined.instance) {
      return false;
    }
 else     if (y instanceof CharSequence) {
      CharSequence c=(CharSequence)y;
      return x.length() == c.length() && x.toString().equals(c.toString());
    }
 else     if (y instanceof Number) {
      return toNumber(x.toString()) == ((Number)y).doubleValue();
    }
 else     if (y instanceof Boolean) {
      return toNumber(x.toString()) == (((Boolean)y).booleanValue() ? 1.0 : 0.0);
    }
 else     if (y instanceof Scriptable) {
      if (y instanceof ScriptableObject) {
        Object test=((ScriptableObject)y).equivalentValues(x.toString());
        if (test != Scriptable.NOT_FOUND) {
          return ((Boolean)test).booleanValue();
        }
      }
      y=toPrimitive(y);
      continue;
    }
 else {
      warnAboutNonJSObject(y);
      return false;
    }
  }
}

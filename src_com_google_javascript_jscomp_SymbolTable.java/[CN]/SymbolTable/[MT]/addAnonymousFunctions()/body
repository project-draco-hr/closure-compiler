{
  TreeSet<SymbolScope> scopes=Sets.newTreeSet(lexicalScopeOrdering);
  for (  SymbolScope scope : getAllScopes()) {
    if (scope.isLexicalScope()) {
      scopes.add(scope);
    }
  }
  for (  SymbolScope scope : scopes) {
    addAnonymousFunctionsInScope(scope);
  }
}

{
  List<Symbol> types=Lists.newArrayList();
  List<Symbol> instances=Lists.newArrayList();
  for (  Symbol sym : getAllSymbols()) {
    FunctionType t=sym.getFunctionType();
    if (t != null && t.isNominalConstructor()) {
      types.add(sym);
      Symbol instance=getSymbolForInstancesOf(t);
      if (instance != null) {
        instances.add(instance);
      }
    }
  }
  for (  Symbol s : instances) {
    createPropertyScopeFor(s);
  }
  for (  Symbol s : types) {
    createPropertyScopeFor(s);
  }
  (new PropertyRefCollector(compiler)).process(externs,root);
}

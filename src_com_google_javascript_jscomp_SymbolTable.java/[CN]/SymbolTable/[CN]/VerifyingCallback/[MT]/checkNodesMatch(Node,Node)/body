{
  Node currentA=nodeA;
  Node currentB=nodeB;
  while (currentA != null && currentB != null) {
    if (currentA.getType() != currentB.getType() || !currentA.isEquivalentTo(currentB)) {
      return false;
    }
    currentA=currentA.getParent();
    currentB=currentB.getParent();
  }
  return currentA == null && currentB == null;
}

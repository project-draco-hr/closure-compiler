{
  if (n.getType() == Token.GETPROP) {
    JSType owner=n.getFirstChild().getJSType();
    if (owner == null) {
      return;
    }
    if (owner.isGlobalThisType()) {
      Symbol sym=globalScope.getSlot(n.getLastChild().getString());
      if (sym != null) {
        sym.defineReferenceAt(n);
      }
    }
 else     if (owner.isNominalConstructor()) {
      maybeDefineReference(n,getSymbolDeclaredBy(owner.toMaybeFunctionType()));
    }
 else {
      for (      Symbol ctor : getAllSymbolsForType(owner)) {
        maybeDefineReference(n,getSymbolForInstancesOf(ctor));
      }
    }
  }
}

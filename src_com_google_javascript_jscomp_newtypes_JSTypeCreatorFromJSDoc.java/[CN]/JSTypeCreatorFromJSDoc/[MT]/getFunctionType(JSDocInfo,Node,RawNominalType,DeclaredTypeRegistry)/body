{
  try {
    if (jsdoc != null && jsdoc.getType() != null) {
      Node jsdocNode=jsdoc.getType().getRootNode();
      int tokenType=jsdocNode.getType();
      if (tokenType == Token.FUNCTION) {
        return getFunTypeFromAtTypeJsdoc(jsdoc,funNode,ownerType,registry);
      }
 else       if (tokenType == Token.STRING && jsdocNode.getString().equals("Function")) {
        return FunctionTypeBuilder.qmarkFunctionBuilder();
      }
 else {
        warn("The function is annotated with a non-function jsdoc. " + "Ignoring jsdoc.",funNode);
      }
    }
    return getFunTypeFromTypicalFunctionJsdoc(jsdoc,funNode,ownerType,registry,false);
  }
 catch (  FunctionTypeBuilder.WrongParameterOrderException e) {
    warn("Wrong parameter order: required parameters are first, " + "then optional, then varargs. Ignoring jsdoc.",funNode);
    return getFunTypeFromTypicalFunctionJsdoc(null,funNode,ownerType,registry,true);
  }
}

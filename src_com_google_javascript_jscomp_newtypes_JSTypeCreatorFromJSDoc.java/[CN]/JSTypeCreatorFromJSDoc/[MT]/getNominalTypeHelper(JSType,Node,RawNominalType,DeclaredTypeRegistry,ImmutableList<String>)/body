{
  NominalType uninstantiated=namedType.getNominalTypeIfUnique();
  RawNominalType rawType=uninstantiated.getRawNominalType();
  if (!rawType.isGeneric() && !n.hasChildren()) {
    return rawType.getInstanceAsNullableJSType();
  }
  ImmutableList.Builder<JSType> typeList=ImmutableList.builder();
  if (n.hasChildren()) {
    Preconditions.checkState(n.getFirstChild().isBlock());
    for (    Node child : n.getFirstChild().children()) {
      JSType childType=getTypeFromNodeHelper(child,ownerType,registry,outerTypeParameters);
      typeList.add(childType);
    }
  }
  ImmutableList<JSType> typeArguments=typeList.build();
  ImmutableList<String> typeParameters=rawType.getTypeParameters();
  int typeArgsSize=typeArguments.size();
  int typeParamsSize=typeParameters.size();
  if (typeArgsSize != typeParamsSize) {
    String nominalTypeName=uninstantiated.getName();
    if (!nominalTypeName.equals("Object")) {
      warn("Invalid generics instantiation for " + nominalTypeName + ".\n"+ "Expected "+ typeParamsSize+ " type argument(s), but found "+ typeArgsSize,n);
    }
    return JSType.join(JSType.NULL,JSType.fromObjectType(ObjectType.fromNominalType(uninstantiated.instantiateGenerics(fixLengthOfTypeList(typeParameters.size(),typeArguments)))));
  }
  return JSType.join(JSType.NULL,JSType.fromObjectType(ObjectType.fromNominalType(uninstantiated.instantiateGenerics(typeArguments))));
}

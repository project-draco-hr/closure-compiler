{
  Preconditions.checkNotNull(parent);
  if (refinedScope != null && getScope() != refinedScope) {
    curNode=node;
    pushScope(refinedScope);
    traverseBranch(node,parent);
    popScope();
  }
 else {
    traverseBranch(node,parent);
  }
}

{
  Preconditions.checkState(n.getChildCount() == 3);
  Preconditions.checkState(n.getType() == Token.FUNCTION);
  final Node fnName=n.getFirstChild();
  boolean isFunctionExpression=(parent != null) && NodeUtil.isFunctionExpression(n);
  if (!isFunctionExpression) {
    traverseBranch(fnName,n);
  }
  curNode=n;
  pushScope(n);
  if (isFunctionExpression) {
    traverseBranch(fnName,n);
  }
  final Node args=fnName.getNext();
  final Node body=args.getNext();
  traverseBranch(args,n);
  Preconditions.checkState(body.getNext() == null && body.getType() == Token.BLOCK);
  traverseBranch(body,n);
  popScope();
}

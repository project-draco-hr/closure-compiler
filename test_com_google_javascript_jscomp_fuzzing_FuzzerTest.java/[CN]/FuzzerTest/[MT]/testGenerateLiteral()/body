{
  int budget=0;
  LiteralFuzzer literalFuzzer=new LiteralFuzzer(random,scopeManager,config,snGenerator);
  LiteralFuzzer spyFuzzer=spy(literalFuzzer);
  doThrow(new RuntimeException("Not enough budget for literal")).when(spyFuzzer).generate(budget);
  budget=1;
  leaveOneSubtype(literalFuzzer.getOwnConfig(),"null");
  Node node=literalFuzzer.generate(budget);
  String code=AbstractFuzzer.getPrettyCode(node);
  assertEquals("null",code.trim());
}

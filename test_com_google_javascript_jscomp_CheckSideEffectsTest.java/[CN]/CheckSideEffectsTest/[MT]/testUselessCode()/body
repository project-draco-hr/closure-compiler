{
  testSame("function f(x) { if(x) return; }");
  testWarning("function f(x) { if(x); }",e);
  testSameEs6("var f = x=>x");
  testWarningEs6("var f = (x)=>{ if(x); }",e);
  testSame("if(x) x = y;");
  testWarning("if(x) x == bar();","if(x) JSCOMPILER_PRESERVE(x == bar());",e);
  testSame("x = 3;");
  testWarning("x == 3;","JSCOMPILER_PRESERVE(x == 3);",e);
  testSame("var x = 'test'");
  testWarning("var x = 'test'\n'Breakstr'","var x = 'test'\nJSCOMPILER_PRESERVE('Breakstr')",e);
  testSame("");
  testSame("foo();;;;bar();;;;");
  testSame("var a, b; a = 5, b = 6");
  testWarning("var a, b; a = 5, b == 6","var a, b; a = 5, JSCOMPILER_PRESERVE(b == 6)",e);
  testWarning("var a, b; a = (5, 6)","var a, b; a = (JSCOMPILER_PRESERVE(5), 6)",e);
  testWarning("var a, b; a = (bar(), 6, 7)","var a, b; a = (bar(), JSCOMPILER_PRESERVE(6), 7)",e);
  testWarning("var a, b; a = (bar(), bar(), 7, 8)","var a, b; a = (bar(), bar(), JSCOMPILER_PRESERVE(7), 8)",e);
  testSame("var a, b; a = (b = 7, 6)");
  testSame(LINE_JOINER.join("function x(){}","function f(a, b){}","f(1,(x(), 2));"));
  testWarning(LINE_JOINER.join("function x(){}","function f(a, b){}","f(1,(2, 3));"),LINE_JOINER.join("function x(){}","function f(a, b){}","f(1,(JSCOMPILER_PRESERVE(2), 3));"),e);
  testWarningEs6("var x = `TemplateA`\n'TestB'","var x = `TemplateA`\nJSCOMPILER_PRESERVE('TestB')",e);
  testWarningEs6("`LoneTemplate`","JSCOMPILER_PRESERVE(`LoneTemplate`)",e);
  testWarningEs6(LINE_JOINER.join("var name = 'Bad';","`${name}Template`;"),LINE_JOINER.join("var name = 'Bad';","JSCOMPILER_PRESERVE(`${name}Template`)"),e);
  testWarningEs6(LINE_JOINER.join("var name = 'BadTail';","`Template${name}`;"),LINE_JOINER.join("var name = 'BadTail';","JSCOMPILER_PRESERVE(`Template${name}`)"),e);
  testSameEs6(LINE_JOINER.join("var name = 'Good';","var templateString = `${name}Template`;"));
  testSameEs6("var templateString = `Template`;");
  testSameEs6("tagged`Template`;");
  testSameEs6("tagged`${name}Template`;");
  testSameEs6(LINE_JOINER.join("var obj = {","  itm1: 1,","  itm2: 2","}","var { itm1: de_item1, itm2: de_item2 } = obj;"));
  testSameEs6(LINE_JOINER.join("var obj = {","  itm1: 1,","  itm2: 2","}","var { itm1, itm2 } = obj;"));
  testSameEs6(LINE_JOINER.join("var arr = ['item1', 'item2', 'item3'];","var [ itm1 = 1, itm2 = 2 ] = arr;"));
  testSameEs6(LINE_JOINER.join("var arr = ['item1', 'item2', 'item3'];","var [ itm1 = 1, itm2 = 2 ] = badArr;"));
  testSameEs6(LINE_JOINER.join("var arr = ['item1', 'item2', 'item3'];","function f(){}","var [ itm1 = f(), itm2 = 2 ] = badArr;"));
  testSameEs6("function c(a, b = 1) {}; c(1);");
  testSameEs6("function c(a, b = f()) {}; c(1);");
  testSameEs6("function c(a, {b, c}) {}; c(1);");
  testSameEs6("function c(a, {b, c}) {}; c(1, {b: 2, c: 3});");
  testWarningEs6("var f = s => {key:s}",e);
  testWarningEs6("var f = s => {key:s + 1}",e);
  testWarningEs6("var f = s => {s}",e);
}

{
  InputId inputId=sourceNode.getInputId();
  CompilerInput input=inputId != null ? compiler.getInput(inputId) : null;
  JSModule module=input != null ? input.getModule() : null;
  InjectedInstaller injected=new InjectedInstaller(module,function);
  if (installers.add(injected)) {
    changed=true;
    Node installer=compiler.parseSyntheticCode(function).removeChildren();
    installer.useSourceInfoIfMissingFromForTree(sourceNode);
    Node enclosingScript=NodeUtil.getEnclosingScript(sourceNode);
    enclosingScript.addChildrenToFront(installer);
  }
}

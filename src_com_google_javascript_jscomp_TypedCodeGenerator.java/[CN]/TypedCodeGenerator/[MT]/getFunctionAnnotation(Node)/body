{
  Preconditions.checkState(fnNode.getType() == Token.FUNCTION);
  StringBuilder sb=new StringBuilder("/**\n");
  JSType type=fnNode.getJSType();
  if (type == null || type.isUnknownType()) {
    return "";
  }
  FunctionType funType=(FunctionType)fnNode.getJSType();
  if (fnNode != null) {
    Node paramNode=NodeUtil.getFnParameters(fnNode).getFirstChild();
    for (    Node n : funType.getParameters()) {
      if (paramNode == null) {
        break;
      }
      sb.append(" * @param {" + getParameterNodeJSDocType(n) + "} ");
      sb.append(paramNode.getString());
      sb.append("\n");
      paramNode=paramNode.getNext();
    }
  }
  JSType retType=funType.getReturnType();
  if (retType != null && !retType.isUnknownType() && !retType.isEmptyType()) {
    sb.append(" * @return {" + retType + "}\n");
  }
  if (funType.isConstructor() || funType.isInterface()) {
    FunctionType superConstructor=funType.getSuperClassConstructor();
    if (superConstructor != null) {
      ObjectType superInstance=funType.getSuperClassConstructor().getInstanceType();
      if (!superInstance.toString().equals("Object")) {
        sb.append(" * @extends {" + superInstance + "}\n");
      }
    }
    Set<String> interfaces=Sets.newTreeSet();
    for (    ObjectType interfaze : funType.getImplementedInterfaces()) {
      interfaces.add(interfaze.toString());
    }
    for (    String interfaze : interfaces) {
      sb.append(" * @implements {" + interfaze + "}\n");
    }
    if (funType.isConstructor()) {
      sb.append(" * @constructor\n");
    }
 else     if (funType.isInterface()) {
      sb.append(" * @interface\n");
    }
  }
  if (fnNode != null && fnNode.getBooleanProp(Node.IS_DISPATCHER)) {
    sb.append(" * @javadispatch\n");
  }
  sb.append(" */\n");
  return sb.toString();
}

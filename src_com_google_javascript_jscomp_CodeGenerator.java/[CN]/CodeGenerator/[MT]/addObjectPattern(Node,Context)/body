{
  boolean hasInitializer=false;
  boolean needsParens=(context == Context.START_OF_EXPR);
  if (needsParens) {
    add("(");
  }
  add("{");
  for (Node child=n.getFirstChild(); child != null; child=child.getNext()) {
    if (isPatternInitializer(child)) {
      hasInitializer=true;
      add("}");
      add("=");
    }
 else     if (child != n.getFirstChild()) {
      add(",");
    }
    add(child);
  }
  if (!hasInitializer) {
    add("}");
  }
  if (needsParens) {
    add(")");
  }
}

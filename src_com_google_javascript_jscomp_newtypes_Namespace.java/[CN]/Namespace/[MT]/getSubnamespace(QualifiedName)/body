{
  String leftmost=qname.getLeftmostName();
  Namespace firstNamespace=getLocalSubnamespace(leftmost);
  if (firstNamespace == null || qname.isIdentifier()) {
    return firstNamespace;
  }
 else {
    return firstNamespace.getSubnamespace(qname.getAllButLeftmost());
  }
}

{
  fold("x = true && x","x = x");
  fold("x = false && x","x = false");
  fold("x = true || x","x = true");
  fold("x = false || x","x = x");
  fold("x = 0 && x","x = 0");
  fold("x = 3 || x","x = 3");
  fold("x = false || 0","x = 0");
  test("if(x && true) z()","x&&z()");
  test("if(x && false) z()","");
  fold("if(x || 3) z()","z()");
  fold("if(x || false) z()","x&&z()");
  test("if(x==y && false) z()","");
  fold("if(y() || x || 3) z()","if(y()||x||1)z()");
  fold("a = x && true","a=x&&true");
  fold("a = x && false","a=x&&false");
  fold("a = x || 3","a=x||3");
  fold("a = x || false","a=x||false");
  fold("a = b ? c : x || false","a=b?c:x||false");
  fold("a = b ? x || false : c","a=b?x||false:c");
  fold("a = b ? c : x && true","a=b?c:x&&true");
  fold("a = b ? x && true : c","a=b?x&&true:c");
  fold("a = x || false ? b : c","a=x?b:c");
  fold("a = x && true ? b : c","a=x?b:c");
  fold("if(foo() || true) z()","if(foo()||1)z()");
  fold("x = foo() || true || bar()","x = foo()||true");
  fold("x = foo() || false || bar()","x = foo()||bar()");
  fold("x = foo() || true && bar()","x = foo()||bar()");
  fold("x = foo() || false && bar()","x = foo()||false");
  fold("x = foo() && false && bar()","x = foo()&&false");
  fold("x = foo() && true && bar()","x = foo()&&bar()");
  fold("x = foo() && false || bar()","x = foo()&&false||bar()");
  fold("x = foo() && true || bar()","x = foo()&&true||bar()");
  fold("foo() && true || bar()","foo()&&1||bar()");
}

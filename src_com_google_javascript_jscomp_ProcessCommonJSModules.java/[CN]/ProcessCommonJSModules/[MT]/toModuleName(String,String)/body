{
  requiredFilename=requiredFilename.replaceAll("\\.js$","");
  currentFilename=currentFilename.replaceAll("\\.js$","");
  if (requiredFilename.startsWith("." + MODULE_SLASH) || requiredFilename.startsWith(".." + MODULE_SLASH)) {
    try {
      requiredFilename=(new URI(currentFilename)).resolve(new URI(requiredFilename)).toString();
    }
 catch (    URISyntaxException e) {
      throw new RuntimeException(e);
    }
  }
  return toModuleName(requiredFilename);
}

{
  if (list == null || list.isEmpty()) {
    return list;
  }
  ImmutableList.Builder<ParseTree> builder=null;
  for (int index=0; index < list.size(); index++) {
    ParseTree element=list.get(index);
    ParseTree transformed=toSourceElement(transformAny(element));
    if (builder != null || element != transformed) {
      if (builder == null) {
        builder=ImmutableList.builder();
        builder.addAll(list.subList(0,index));
      }
      builder.add(transformed);
    }
  }
  return builder != null ? builder.build() : list;
}

{
  Preconditions.checkArgument(scriptNodeCount == 1,"ProcessEs6Modules supports only one invocation per " + "CompilerInput / script node");
  if (exportMap.isEmpty()) {
    return;
  }
  Node objectlit=IR.objectlit();
  for (  String name : exportMap.keySet()) {
    objectlit.addChildToBack(IR.stringKey(name,IR.name(exportMap.get(name))));
  }
  script.addChildToBack(IR.exprResult(IR.assign(IR.getprop(IR.name("module"),IR.string("exports")),objectlit)).useSourceInfoIfMissingFromForTree(script));
  compiler.reportCodeChange();
  exportMap.clear();
}

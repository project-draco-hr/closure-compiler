{
  if (loopNode.getParent().isLabel()) {
    Node innerMostLabel=loopNode.getParent();
    Node outerMostLabel=innerMostLabel;
    while (outerMostLabel.getParent().isLabel()) {
      outerMostLabel=outerMostLabel.getParent();
    }
    innerMostLabel.replaceChild(loopNode,newNode);
    outerMostLabel.getParent().addChildAfter(loopNode,outerMostLabel);
  }
 else {
    loopNode.getParent().addChildBefore(newNode,loopNode);
  }
}

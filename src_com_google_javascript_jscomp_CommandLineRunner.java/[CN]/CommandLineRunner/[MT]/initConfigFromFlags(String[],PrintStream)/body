{
  List<String> processedArgs=processArgs(args);
  CmdLineParser parser=new CmdLineParser(flags);
  Flags.guardLevels.clear();
  isConfigValid=true;
  try {
    parser.parseArgument(processedArgs.toArray(new String[]{}));
    if (!flags.flagFile.equals("")) {
      processFlagFile(err);
    }
  }
 catch (  CmdLineException e) {
    err.println(e.getMessage());
    isConfigValid=false;
  }
catch (  IOException ioErr) {
    err.println("ERROR - " + flags.flagFile + " read error.");
    isConfigValid=false;
  }
  if (flags.version) {
    err.println("Closure Compiler (http://code.google.com/closure/compiler)\n" + "Version: " + Compiler.getReleaseVersion() + "\n"+ "Built on: "+ Compiler.getReleaseDate());
    err.flush();
  }
  if (flags.processCommonJsModules) {
    flags.processClosurePrimitives=true;
    flags.manageClosureDependencies=true;
    if (flags.commonJsEntryModule == null) {
      err.println("Please specify --common_js_entry_module.");
      err.flush();
      isConfigValid=false;
    }
    flags.closureEntryPoint=Lists.newArrayList(ProcessCommonJSModules.toModuleName(flags.commonJsEntryModule));
  }
  if (!isConfigValid || flags.displayHelp) {
    isConfigValid=false;
    parser.printUsage(err);
  }
 else {
    CodingConvention conv;
    if (flags.thirdParty) {
      conv=CodingConventions.getDefault();
    }
 else     if (flags.processJqueryPrimitives) {
      conv=new JqueryCodingConvention();
    }
 else {
      conv=new ClosureCodingConvention();
    }
    getCommandLineConfig().setPrintTree(flags.printTree).setPrintAst(flags.printAst).setPrintPassGraph(flags.printPassGraph).setJscompDevMode(flags.jscompDevMode).setLoggingLevel(flags.loggingLevel).setExterns(flags.externs).setJs(flags.getJsFiles()).setJsOutputFile(flags.jsOutputFile).setModule(flags.module).setVariableMapInputFile(flags.variableMapInputFile).setPropertyMapInputFile(flags.propertyMapInputFile).setVariableMapOutputFile(flags.variableMapOutputFile).setCreateNameMapFiles(flags.createNameMapFiles).setPropertyMapOutputFile(flags.propertyMapOutputFile).setCodingConvention(conv).setSummaryDetailLevel(flags.summaryDetailLevel).setOutputWrapper(flags.outputWrapper).setModuleWrapper(flags.moduleWrapper).setModuleOutputPathPrefix(flags.moduleOutputPathPrefix).setCreateSourceMap(flags.createSourceMap).setSourceMapFormat(flags.sourceMapFormat).setWarningGuardSpec(Flags.getWarningGuardSpec()).setDefine(flags.define).setCharset(flags.charset).setManageClosureDependencies(flags.manageClosureDependencies).setOnlyClosureDependencies(flags.onlyClosureDependencies).setClosureEntryPoints(flags.closureEntryPoint).setOutputManifest(ImmutableList.of(flags.outputManifest)).setOutputModuleDependencies(flags.outputModuleDependencies).setAcceptConstKeyword(flags.acceptConstKeyword).setLanguageIn(flags.languageIn).setProcessCommonJSModules(flags.processCommonJsModules).setCommonJSModulePathPrefix(flags.commonJsPathPrefix).setTransformAMDToCJSModules(flags.transformAmdModules).setWarningsWhitelistFile(flags.warningsWhitelistFile).setAngularPass(flags.angularPass);
  }
}

{
  int type=n.getType();
switch (type) {
case Token.FUNCTION:
    if (traverseFunctionWhenFirstSeen(n,scope)) {
      traverseFunction(n,scope);
    }
  return;
case Token.NAME:
if (parent.getType() != Token.VAR) {
  Var var=scope.getVar(n.getString());
  if (var != null && !referenced.contains(var)) {
    Assign maybeAssign=Assign.maybeCreateAssign(n);
    if (maybeAssign == null) {
      markReferencedVar(var);
    }
 else {
      assigns.put(var,maybeAssign);
    }
  }
}
break;
}
for (Node c=n.getFirstChild(); c != null; c=c.getNext()) {
traverseNode(c,n,scope);
}
}

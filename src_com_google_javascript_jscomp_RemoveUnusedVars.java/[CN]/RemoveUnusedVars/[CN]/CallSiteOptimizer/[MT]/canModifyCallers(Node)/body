{
  if (NodeUtil.isVarArgsFunction(function)) {
    return false;
  }
  DefinitionSite defSite=defFinder.getDefinitionForFunction(function);
  if (defSite == null) {
    return false;
  }
  Definition definition=defSite.definition;
  if (!SimpleDefinitionFinder.isSimpleFunctionDeclaration(function)) {
    return false;
  }
  if (SimpleDefinitionFinder.maybeExported(compiler,definition)) {
    return false;
  }
  Collection<UseSite> useSites=defFinder.getUseSites(definition);
  for (  UseSite site : useSites) {
    Node nameNode=site.node;
    Collection<Definition> singleSiteDefinitions=defFinder.getDefinitionsReferencedAt(nameNode);
    if (singleSiteDefinitions.size() > 1) {
      return false;
    }
    Preconditions.checkState(!singleSiteDefinitions.isEmpty());
    Preconditions.checkState(singleSiteDefinitions.contains(definition));
  }
  return true;
}

{
  CodeChangeHandler handler=new CodeChangeHandler.ForbiddenChange();
  compiler.addChangeHandler(handler);
  new PrepareAst(compiler,true).process(null,root);
  if (compiler.isNormalized()) {
    (new Normalize(compiler,true)).process(externs,root);
    boolean checkUserDeclarations=true;
    CompilerPass pass=new Normalize.VerifyConstants(compiler,checkUserDeclarations);
    pass.process(externs,root);
  }
  compiler.removeChangeHandler(handler);
}

{
  JSDocInfo fnDoc=NodeUtil.getFunctionJSDocInfo(fn);
  Node nameNode=NodeUtil.getFunctionNameNode(fn);
  String internalName=createFunctionInternalName(fn,nameNode);
  boolean isRedeclaration;
  if (nameNode == null || !nameNode.isQualifiedName()) {
    isRedeclaration=false;
  }
 else   if (nameNode.isName()) {
    isRedeclaration=currentScope.isDefinedLocally(nameNode.getString());
  }
 else {
    isRedeclaration=currentScope.isDefined(nameNode);
  }
  ArrayList<String> formals=collectFormals(fn,fnDoc);
  createFunctionScope(fn,formals,internalName);
  maybeRecordNominalType(fn,nameNode,fnDoc,isRedeclaration);
}

{
  String qname=NodeUtil.getFunctionName(fn);
  if (qname == null || !TypeUtils.isIdentifier(qname)) {
    anonFunNames.put(fn,"%anon_fun" + funCounter);
    funCounter++;
  }
  JSDocInfo fnDoc=NodeUtil.getFunctionJSDocInfo(fn);
  if (fnDoc != null && (fnDoc.isConstructor() || fnDoc.isInterface())) {
    NominalType klass=fnDoc.isInterface() ? NominalType.makeInterface(qname) : NominalType.makeClass(qname);
    nominaltypesByNode.put(fn,klass);
    parentScope.addClassType(qname,klass);
  }
}

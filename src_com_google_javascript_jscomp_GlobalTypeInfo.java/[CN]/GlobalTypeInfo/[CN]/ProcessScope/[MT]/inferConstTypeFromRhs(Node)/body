{
  if (constExpr.isFromExterns()) {
    return null;
  }
  Node rhs;
  if (constExpr.isName()) {
    Preconditions.checkState(constExpr.getParent().isVar());
    rhs=constExpr.getFirstChild();
  }
 else {
    Preconditions.checkState(constExpr.isGetProp() && constExpr.getParent().isAssign());
    rhs=constExpr.getParent().getLastChild();
  }
switch (rhs.getType()) {
case Token.NUMBER:
    return JSType.NUMBER;
case Token.STRING:
  return JSType.STRING;
case Token.TRUE:
return JSType.TRUE_TYPE;
case Token.FALSE:
return JSType.FALSE_TYPE;
case Token.NULL:
return JSType.NULL;
case Token.NAME:
String varName=rhs.getString();
if (varName.equals("undefined")) {
return JSType.UNDEFINED;
}
if (currentScope.isFormalParam(varName)) {
return currentScope.getDeclaredTypeOf(varName);
}
return null;
default :
return null;
}
}

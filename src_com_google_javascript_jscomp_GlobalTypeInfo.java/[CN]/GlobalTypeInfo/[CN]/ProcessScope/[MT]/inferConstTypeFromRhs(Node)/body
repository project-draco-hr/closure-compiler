{
  if (constExpr.isFromExterns()) {
    warnings.add(JSError.make(constExpr,COULD_NOT_INFER_CONST_TYPE));
    return null;
  }
  Node rhs;
  if (constExpr.isName()) {
    Preconditions.checkState(constExpr.getParent().isVar());
    rhs=constExpr.getFirstChild();
  }
 else {
    Preconditions.checkState(constExpr.isGetProp() && constExpr.getParent().isAssign());
    rhs=constExpr.getParent().getLastChild();
  }
  JSType rhsType=simpleInferExprType(rhs);
  if (rhsType == null) {
    warnings.add(JSError.make(constExpr,COULD_NOT_INFER_CONST_TYPE));
    return null;
  }
  return rhsType;
}

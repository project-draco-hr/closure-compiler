{
  Preconditions.checkArgument(fn.getParent().isCall());
  if (!fn.isFunction() && (!fn.isQualifiedName() || fn.isThis())) {
    return null;
  }
  if (fn.isFunction()) {
    return currentScope.getScope(getFunInternalName(fn)).getDeclaredType().toFunctionType();
  }
  if (fn.isName()) {
    JSType type=currentScope.getDeclaredTypeOf(fn.getString());
    return type == null ? null : type.getFunType();
  }
  Preconditions.checkState(fn.isGetProp());
  Node recv=fn.getFirstChild();
  QualifiedName recvQname=QualifiedName.fromNode(recv);
  Preconditions.checkNotNull(recvQname);
  if (!currentScope.isNamespace(recvQname)) {
    return null;
  }
  JSType type=currentScope.getNamespace(recvQname).getPropDeclaredType(fn.getLastChild().getString());
  return type == null ? null : type.getFunType();
}

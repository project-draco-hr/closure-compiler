{
  ObjectType genericType=ObjectType.cast(type.getReferencedTypeInternal().visit(this));
  JSType paramType=type.getParameterType().visit(this);
  if (type.getReferencedTypeInternal() != genericType || type.getParameterType() != paramType) {
    type=registry.createParameterizedType(genericType,paramType);
  }
  return type;
}

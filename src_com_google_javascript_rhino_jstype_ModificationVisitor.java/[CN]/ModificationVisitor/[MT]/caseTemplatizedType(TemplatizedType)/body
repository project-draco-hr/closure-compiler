{
  ObjectType genericType=ObjectType.cast(type.getReferencedTypeInternal().visit(this));
  JSType paramType=type.getTemplateType().visit(this);
  if (type.getReferencedTypeInternal() != genericType || type.getTemplateType() != paramType) {
    type=registry.createTemplatizedType(genericType,paramType);
  }
  return type;
}

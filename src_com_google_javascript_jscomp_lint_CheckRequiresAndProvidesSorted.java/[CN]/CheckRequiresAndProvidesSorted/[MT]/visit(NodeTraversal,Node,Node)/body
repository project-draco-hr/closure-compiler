{
switch (n.getType()) {
case Token.SCRIPT:
    if (!Ordering.natural().isOrdered(requiredNamespaces)) {
      t.report(n,REQUIRES_NOT_SORTED);
    }
  if (!Ordering.natural().isOrdered(providedNamespaces)) {
    t.report(n,PROVIDES_NOT_SORTED);
  }
requiredNamespaces.clear();
providedNamespaces.clear();
break;
case Token.CALL:
if (parent.isExprResult() && parent.getParent().isScript()) {
String req=compiler.getCodingConvention().extractClassNameIfRequire(n,parent);
if (req != null) {
requiredNamespaces.add(req);
}
String prov=compiler.getCodingConvention().extractClassNameIfProvide(n,parent);
if (prov != null) {
if (!requiredNamespaces.isEmpty()) {
t.report(n,PROVIDES_AFTER_REQUIRES);
}
providedNamespaces.add(prov);
}
}
break;
}
}

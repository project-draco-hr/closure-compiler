{
  JSType type=n.getFirstChild().getJSType();
  if (type != null) {
    type=type.restrictByNotNullOrUndefined();
    if (!type.isEmptyType() && !type.isUnknownType()) {
      compiler.getTypeRegistry().getType("goog.Promise");
      return type.isSubtypeOf(promiseInstanceType);
    }
  }
  return false;
}

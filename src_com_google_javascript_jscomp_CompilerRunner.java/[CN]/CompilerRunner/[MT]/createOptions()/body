{
  CompilerOptions options=new CompilerOptions();
  CompilationLevel level=FLAG_compilation_level.get();
  level.setOptionsForCompilationLevel(options);
  WarningLevel wLevel=FLAG_warning_level.get();
  wLevel.setOptionsForWarningLevel(options);
  for (  FormattingOption formattingOption : FLAG_formatting.get()) {
    formattingOption.applyToOptions(options);
  }
  if (FLAG_process_closure_primitives.get()) {
    options.closurePass=true;
  }
  DiagnosticGroups.setWarningLevels(options,AbstractCompilerRunner.FLAG_jscomp_error.get(),CheckLevel.ERROR);
  DiagnosticGroups.setWarningLevels(options,AbstractCompilerRunner.FLAG_jscomp_warning.get(),CheckLevel.WARNING);
  DiagnosticGroups.setWarningLevels(options,AbstractCompilerRunner.FLAG_jscomp_off.get(),CheckLevel.OFF);
  return options;
}

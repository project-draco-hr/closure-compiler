{
  validateMinimumChildCount(n,2);
  for (Node c=n.getFirstChild(); c != null; c=c.getNext()) {
switch (c.getType()) {
case Token.FOR_OF:
      validateChildCount(c,2);
    break;
case Token.IF:
  validateChildCount(c,1);
break;
default :
if (c == n.getLastChild()) {
validateExpression(c);
}
 else {
violation("All children of a comprehension node, except the last" + " one, must be FOR_OF or IF nodes.",c);
}
}
}
}

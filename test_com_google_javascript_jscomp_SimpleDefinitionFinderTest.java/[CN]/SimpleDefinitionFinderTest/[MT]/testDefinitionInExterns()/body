{
  String externs="var a = 1";
  checkDefinitionsInExterns(externs,ImmutableSet.of("DEF NAME a -> NUMBER"));
  checkDefinitions(externs,"var b = 1",ImmutableSet.of("DEF NAME a -> NUMBER","DEF NAME b -> NUMBER"));
  checkDefinitions(externs,"a = \"foo\"; a",ImmutableSet.of("DEF NAME a -> NUMBER","DEF NAME a -> STRING","USE NAME a -> [NUMBER, STRING]"));
  checkDefinitionsInExterns("var a = {}; a.b = 10",ImmutableSet.of("DEF GETPROP a.b -> NUMBER","DEF NAME a -> <null>","USE NAME a -> [<null>]"));
  checkDefinitionsInExterns("var a = {}; a.b",ImmutableSet.of("DEF GETPROP a.b -> <null>","DEF NAME a -> <null>","USE NAME a -> [<null>]"));
  checkDefinitions("var a = {}","a.b = 1",ImmutableSet.of("DEF GETPROP a.b -> NUMBER","DEF NAME a -> <null>","USE NAME a -> [<null>]"));
  checkDefinitions("var a = {}","a.b",ImmutableSet.of("DEF NAME a -> <null>","USE NAME a -> [<null>]"));
  checkDefinitionsInExterns(externs,ImmutableSet.of("DEF NAME a -> NUMBER"));
}

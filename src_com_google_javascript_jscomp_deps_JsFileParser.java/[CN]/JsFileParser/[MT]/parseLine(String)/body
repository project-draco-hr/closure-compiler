{
  boolean lineHasProvidesOrRequires=false;
  if (line.contains("provide") || line.contains("require") || line.contains("addDependency")) {
    googMatcher.reset(line);
    while (googMatcher.find()) {
      lineHasProvidesOrRequires=true;
      if (includeGoogBase && !fileHasProvidesOrRequires) {
        fileHasProvidesOrRequires=true;
        requires.add("goog");
      }
      char firstChar=googMatcher.group(1).charAt(0);
      boolean isProvide=firstChar == 'p';
      boolean isRequire=firstChar == 'r';
      if (isProvide || isRequire) {
        String arg=parseJsString(googMatcher.group(2));
        if (isRequire) {
          if (!"goog".equals(arg)) {
            requires.add(arg);
          }
        }
 else {
          provides.add(arg);
        }
      }
    }
  }
 else   if (includeGoogBase && line.startsWith(BASE_JS_START) && provides.isEmpty()&& requires.isEmpty()) {
    provides.add("goog");
    return false;
  }
  return !shortcutMode || lineHasProvidesOrRequires || CharMatcher.WHITESPACE.matchesAllOf(line);
}

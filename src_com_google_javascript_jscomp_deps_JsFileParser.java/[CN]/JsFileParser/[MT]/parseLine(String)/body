{
  boolean lineHasProvidesOrRequires=false;
  if (line.indexOf("provide") != -1 || line.indexOf("require") != -1) {
    googMatcher.reset(line);
    while (googMatcher.find()) {
      lineHasProvidesOrRequires=true;
      if (includeGoogBase && !fileHasProvidesOrRequires) {
        fileHasProvidesOrRequires=true;
        requires.add("goog");
      }
      boolean isRequire=googMatcher.group(1).charAt(0) == 'r';
      String arg=parseJsString(googMatcher.group(2));
      if (isRequire) {
        if (!"goog".equals(arg)) {
          requires.add(arg);
        }
      }
 else {
        provides.add(arg);
      }
    }
  }
 else   if (includeGoogBase && line.startsWith(BASE_JS_START) && provides.isEmpty()&& requires.isEmpty()) {
    provides.add("goog");
    return false;
  }
  return !shortcutMode || lineHasProvidesOrRequires || CharMatcher.WHITESPACE.matchesAllOf(line);
}

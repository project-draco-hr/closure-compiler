{
  if (!checkParameterCount(expr,Keywords.MAPUNION)) {
    return false;
  }
  if (!validTypeTransformationExpression(getCallArgument(expr,0))) {
    warnInvalidInside("mapunion",getCallArgument(expr,0));
    return false;
  }
  if (!getCallArgument(expr,1).isFunction()) {
    warnInvalid("map function",getCallArgument(expr,1));
    return false;
  }
  Node mapFn=getCallArgument(expr,1);
  Node mapFnParam=mapFn.getChildAtIndex(1);
  if (!mapFnParam.hasChildren()) {
    warnMissingParam("map function",mapFnParam);
    return false;
  }
  if (!mapFnParam.hasOneChild()) {
    warnExtraParam("map function",mapFnParam);
    return false;
  }
  Node mapFnBody=mapFn.getChildAtIndex(2);
  if (!validTypeTransformationExpression(mapFnBody)) {
    warnInvalidInside("map function body",mapFnBody);
    return false;
  }
  return true;
}

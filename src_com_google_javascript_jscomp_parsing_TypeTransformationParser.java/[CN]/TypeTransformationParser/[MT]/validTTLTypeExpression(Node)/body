{
  if (!isValidExpression(expr)) {
    warnInvalidExpression("type",expr);
    return false;
  }
  if (isTypeVar(expr) || isTypeName(expr)) {
    return true;
  }
  Node operation=expr.getFirstChild();
  String keyword=operation.getString();
  if (!belongsTo(keyword,TYPE_CONSTRUCTORS)) {
    warnInvalidExpression("type",expr);
    return false;
  }
  if (isKeyword(keyword,Keywords.TYPE)) {
    return validTemplateTypeExpression(expr);
  }
  if (isKeyword(keyword,Keywords.UNION)) {
    return validUnionTypeExpression(expr);
  }
  if (isKeyword(keyword,Keywords.NONE)) {
    return validNoneTypeExpression(expr);
  }
  if (isKeyword(keyword,Keywords.RAWTYPEOF)) {
    return validRawTypeOfTypeExpression(expr);
  }
  if (isKeyword(keyword,Keywords.TEMPTYPEOF)) {
    return validTemplateTypeOfExpression(expr);
  }
  if (isKeyword(keyword,Keywords.RECORD)) {
    return validRecordTypeExpression(expr);
  }
  throw new IllegalStateException("Invalid type expression");
}

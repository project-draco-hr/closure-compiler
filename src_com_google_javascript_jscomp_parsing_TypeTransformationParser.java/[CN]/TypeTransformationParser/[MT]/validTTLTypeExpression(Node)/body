{
  if (!isValidExpression(expr)) {
    warnInvalidExpression("type",expr);
    return false;
  }
  if (isTypeVar(expr) || isTypeName(expr)) {
    return true;
  }
  Node operation=expr.getFirstChild();
  String keyword=operation.getString();
  if (!belongsTo(keyword,TYPE_CONSTRUCTORS)) {
    warnInvalidExpression("type",expr);
    return false;
  }
  if (isKeyword(keyword,Keywords.TYPE)) {
    return validTTLTemplateTypeExpression(expr);
  }
  if (isKeyword(keyword,Keywords.UNION)) {
    return validTTLUnionTypeExpression(expr);
  }
  if (isKeyword(keyword,Keywords.NONE)) {
    return validTTLNoneTypeExpression(expr);
  }
  if (isKeyword(keyword,Keywords.RAWTYPEOF)) {
    return validTTLRawTypeOfTypeExpression(expr);
  }
  if (isKeyword(keyword,Keywords.TEMPTYPEOF)) {
    return validTTLTemplateTypeOf(expr);
  }
  throw new IllegalStateException("Invalid type expression");
}

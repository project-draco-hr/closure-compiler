{
  Node var=name.getParent();
  Node parent=var.getParent();
  if (NodeUtil.isForIn(parent)) {
    var.removeChild(name);
    parent.replaceChild(var,name);
  }
 else   if (var.getChildCount() == 1) {
    if (name.hasChildren()) {
      Node value=name.removeFirstChild();
      var.removeChild(name);
      Node assign=new Node(Token.ASSIGN,name,value).copyInformationFrom(name);
      if (parent.getType() != Token.FOR) {
        assign=NodeUtil.newExpr(assign);
      }
      parent.replaceChild(var,assign);
    }
 else {
      NodeUtil.removeChild(parent,var);
    }
  }
 else {
    if (!name.hasChildren()) {
      var.removeChild(name);
    }
  }
}

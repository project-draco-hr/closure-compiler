{
  Preconditions.checkState(outerVarPreconditions.isEmpty());
  Map<String,JSType> typeMap=concreteTypes;
  if (typeParameters != null) {
    ImmutableMap.Builder<String,JSType> builder=ImmutableMap.builder();
    for (    String typeParam : concreteTypes.keySet()) {
      if (!typeParameters.contains(typeParam)) {
        builder.put(typeParam,concreteTypes.get(typeParam));
      }
    }
    typeMap=builder.build();
  }
  return applyInstantiation(true,typeMap);
}

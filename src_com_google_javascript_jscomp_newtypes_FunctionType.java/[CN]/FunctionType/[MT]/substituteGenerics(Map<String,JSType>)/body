{
  Preconditions.checkState(outerVarPreconditions.isEmpty());
  if (!hasFreeTypeVars(new HashSet<String>())) {
    return this;
  }
  Map<String,JSType> typeMap=concreteTypes;
  if (typeParameters != null) {
    ImmutableMap.Builder<String,JSType> builder=ImmutableMap.builder();
    for (    Map.Entry<String,JSType> concreteTypeEntry : concreteTypes.entrySet()) {
      if (!typeParameters.contains(concreteTypeEntry.getKey())) {
        builder.put(concreteTypeEntry.getKey(),concreteTypeEntry.getValue());
      }
    }
    typeMap=builder.build();
  }
  return applyInstantiation(true,typeMap);
}

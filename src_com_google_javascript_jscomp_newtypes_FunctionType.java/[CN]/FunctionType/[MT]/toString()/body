{
  if (isTopFunction()) {
    if (isLoose) {
      return "LOOSE_TOP_FUNCTION";
    }
    return "TOP_FUNCTION";
  }
  StringBuilder builder=new StringBuilder("function(");
  if (nominalType != null) {
    builder.append("new:");
    builder.append(nominalType.getName());
    builder.append(',');
  }
  for (  JSType formal : requiredFormals) {
    builder.append(formal.toString());
    builder.append(',');
  }
  for (  JSType formal : optionalFormals) {
    builder.append(formal.toString());
    builder.append("=,");
  }
  if (restFormals != null) {
    builder.append("...");
    builder.append(restFormals.toString());
    builder.append(',');
  }
  builder.deleteCharAt(builder.length() - 1);
  builder.append(')');
  if (returnType != null) {
    builder.append(':');
    builder.append(returnType.toString());
  }
  if (isLoose) {
    builder.append(" (loose)");
  }
  if (!outerVarPreconditions.isEmpty()) {
    builder.append("\tFV:");
    builder.append(outerVarPreconditions);
  }
  return builder.toString();
}

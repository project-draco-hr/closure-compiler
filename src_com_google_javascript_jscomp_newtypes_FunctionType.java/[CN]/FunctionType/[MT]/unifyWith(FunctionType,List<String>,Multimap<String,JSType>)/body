{
  Preconditions.checkState(this.typeParameters == null);
  Preconditions.checkState(this.outerVarPreconditions.isEmpty());
  if (this == LOOSE_TOP_FUNCTION || other == LOOSE_TOP_FUNCTION) {
    return true;
  }
  Preconditions.checkState(this.requiredFormals != null && other.requiredFormals != null,"Cannot run unification algorithm on %s and %s",this,other);
  if (requiredFormals.size() != other.requiredFormals.size()) {
    return false;
  }
  Iterator<JSType> thisReqFormals=requiredFormals.iterator();
  Iterator<JSType> otherReqFormals=other.requiredFormals.iterator();
  while (thisReqFormals.hasNext()) {
    JSType reqFormal=thisReqFormals.next();
    JSType otherReqFormal=otherReqFormals.next();
    if (!reqFormal.unifyWith(otherReqFormal,typeParameters,typeMultimap)) {
      return false;
    }
  }
  if (optionalFormals.size() != other.optionalFormals.size()) {
    return false;
  }
  Iterator<JSType> thisOptFormals=optionalFormals.iterator();
  Iterator<JSType> otherOptFormals=other.optionalFormals.iterator();
  while (thisOptFormals.hasNext()) {
    JSType optFormal=thisOptFormals.next();
    JSType otherOptFormal=otherOptFormals.next();
    if (!optFormal.unifyWith(otherOptFormal,typeParameters,typeMultimap)) {
      return false;
    }
  }
  if (restFormals == null && other.restFormals != null || restFormals != null && other.restFormals == null) {
    return false;
  }
  if (restFormals != null && !restFormals.unifyWith(other.restFormals,typeParameters,typeMultimap)) {
    return false;
  }
  if (nominalType == null && other.nominalType != null || nominalType != null && other.nominalType == null) {
    return false;
  }
  if (nominalType != null && !nominalType.unifyWith(other.nominalType,typeParameters,typeMultimap)) {
    return false;
  }
  if (this.receiverType != null && other.receiverType != null && !this.receiverType.unifyWith(other.receiverType,typeParameters,typeMultimap)) {
    return false;
  }
  return returnType.unifyWith(other.returnType,typeParameters,typeMultimap);
}

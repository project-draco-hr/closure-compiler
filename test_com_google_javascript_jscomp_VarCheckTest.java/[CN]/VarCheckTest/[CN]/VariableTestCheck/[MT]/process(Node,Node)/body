{
  NodeTraversal.traverseRoots(compiler,Lists.newArrayList(externs,root),new AbstractPostOrderCallback(){
    @Override public void visit(    NodeTraversal t,    Node n,    Node parent){
      if (NodeUtil.isName(n) && !NodeUtil.isFunction(parent) && parent.getType() != Token.LABEL) {
        assertTrue("Variable " + n.getString() + " should have be declared",t.getScope().isDeclared(n.getString(),true));
      }
    }
  }
);
}

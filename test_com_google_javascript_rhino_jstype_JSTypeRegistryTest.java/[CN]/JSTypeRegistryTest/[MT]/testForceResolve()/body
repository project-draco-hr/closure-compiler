{
  SimpleErrorReporter reporter=new SimpleErrorReporter();
  JSTypeRegistry lazyExprRegistry=new JSTypeRegistry(reporter);
  lazyExprRegistry.setResolveMode(ResolveMode.LAZY_EXPRESSIONS);
  Node expr=new Node(Token.QMARK,Node.newString("foo"));
  StaticScope<JSType> empty=new EmptyScope();
  JSType type=lazyExprRegistry.createFromTypeNodes(expr,"source.js",empty);
  assertFalse(type.isResolved());
  assertTrue(type.forceResolve(reporter,empty).isResolved());
  assertEquals("Expected warnings",1,reporter.warnings().size());
}

{
  Node scopeRoot=t.getScopeRoot();
  if (NodeUtil.isFunctionBlock(scopeRoot)) {
    Node n=scopeRoot.getParent();
    Scope scope=t.getScope();
    String propName=getPrototypePropertyNameFromRValue(n);
    if (propName != null) {
      symbolStack.push(new NameContext(getNameInfoForName(propName,PROPERTY),scope));
    }
 else     if (isGlobalFunctionDeclaration(t,n)) {
      Node parent=n.getParent();
      String name=parent.isName() ? parent.getString() : n.getFirstChild().getString();
      symbolStack.push(new NameContext(getNameInfoForName(name,VAR),scope));
    }
 else {
      symbolStack.push(new NameContext(anonymousNode,scope));
    }
  }
 else   if (t.inGlobalScope()) {
    symbolStack.push(new NameContext(globalNode,t.getScope()));
  }
}

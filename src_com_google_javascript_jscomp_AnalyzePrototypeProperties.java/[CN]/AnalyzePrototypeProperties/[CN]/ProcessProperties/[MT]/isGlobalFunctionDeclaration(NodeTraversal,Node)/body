{
  boolean isNotDefinedAsProperty=n.isFunction() && n.getParent().isName();
  boolean lookingAtScopeRoot=t.getScopeRoot() == n && t.getScopeDepth() == 1;
  if (isNotDefinedAsProperty && n.getParent().getParent().isVar()) {
    return t.getScope().getClosestHoistScope().isGlobal() || lookingAtScopeRoot;
  }
 else   if (NodeUtil.isFunctionDeclaration(n) || isNotDefinedAsProperty) {
    return t.inGlobalScope() || lookingAtScopeRoot;
  }
  return false;
}

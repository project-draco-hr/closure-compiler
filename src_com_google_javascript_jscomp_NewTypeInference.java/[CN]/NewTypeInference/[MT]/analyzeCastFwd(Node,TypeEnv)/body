{
  EnvTypePair pair=analyzeExprFwd(expr.getFirstChild(),inEnv);
  JSType fromType=pair.type;
  JSType toType=symbolTable.getCastType(expr);
  if (!fromType.isInterfaceInstance() && !toType.isInterfaceInstance() && !JSType.haveCommonSubtype(fromType,toType)&& !fromType.hasTypeVariable()) {
    warnings.add(JSError.make(expr,INVALID_CAST,fromType.toString(),toType.toString()));
  }
  expr.getFirstChild().putProp(Node.TYPE_BEFORE_CAST,fromType);
  pair.type=toType;
  return pair;
}

{
  mayWarnAboutConst(expr);
  Node lhs=expr.getFirstChild();
  Node rhs=expr.getLastChild();
  LValueResultFwd lvalue=analyzeLValueFwd(lhs,inEnv,JSType.NUMBER);
  JSType lhsType=lvalue.type;
  boolean lhsWarned=false;
  if (!lhsType.isSubtypeOf(JSType.NUMBER)) {
    warnInvalidOperand(lhs,expr.getType(),JSType.NUMBER,lhsType);
    lhsWarned=true;
  }
  EnvTypePair pair=analyzeExprFwd(rhs,lvalue.env,JSType.NUMBER);
  if (!pair.type.isSubtypeOf(JSType.NUMBER)) {
    warnInvalidOperand(rhs,expr.getType(),JSType.NUMBER,pair.type);
  }
  if (!lhsWarned) {
    pair.env=updateLvalueTypeInEnv(pair.env,lhs,lvalue.ptr,JSType.NUMBER);
  }
  pair.type=JSType.NUMBER;
  return pair;
}

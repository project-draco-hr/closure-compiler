{
  mayWarnAboutConst(expr);
  Node lhs=expr.getFirstChild();
  Node rhs=expr.getLastChild();
  JSType lhsReqType=specializeKeep2ndWhenBottom(requiredType,JSType.NUM_OR_STR);
  LValueResultFwd lvalue=analyzeLValueFwd(lhs,inEnv,lhsReqType);
  JSType lhsType=lvalue.type;
  if (!lhsType.isSubtypeOf(JSType.NUM_OR_STR)) {
    warnInvalidOperand(lhs,Token.ASSIGN_ADD,JSType.NUM_OR_STR,lhsType);
  }
  JSType rhsReqType=lhsType.isNumber() ? JSType.NUMBER : JSType.NUM_OR_STR;
  EnvTypePair pair=analyzeExprFwd(rhs,lvalue.env,rhsReqType);
  if (!pair.type.isSubtypeOf(rhsReqType)) {
    warnInvalidOperand(rhs,Token.ASSIGN_ADD,rhsReqType,pair.type);
  }
  return pair;
}

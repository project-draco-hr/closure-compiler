{
  Preconditions.checkArgument(callNode.isCall() || callNode.isNew());
  Preconditions.checkArgument(calleeType.isLoose());
  Node callee=callNode.getFirstChild();
  FunctionTypeBuilder builder=new FunctionTypeBuilder();
  TypeEnv tmpEnv=inEnv;
  for (Node arg=callee.getNext(); arg != null; arg=arg.getNext()) {
    EnvTypePair pair=analyzeExprFwd(arg,tmpEnv);
    tmpEnv=pair.env;
    builder.addReqFormal(pair.type);
  }
  JSType looseRetType=requiredType.isUnknown() ? JSType.BOTTOM : requiredType;
  JSType looseFunctionType=commonTypes.fromFunctionType(builder.addRetType(looseRetType).addLoose().buildFunction());
  EnvTypePair calleePair=analyzeExprFwd(callee,tmpEnv,commonTypes.topFunction(),looseFunctionType);
  JSType retType=calleeType.getReturnType();
  return new EnvTypePair(calleePair.env,!retType.isBottom() && retType.isNonLooseSubtypeOf(requiredType) ? retType : requiredType);
}

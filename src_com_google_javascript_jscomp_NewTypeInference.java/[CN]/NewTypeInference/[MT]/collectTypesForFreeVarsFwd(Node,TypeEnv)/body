{
  Preconditions.checkArgument(callee.isName());
  NTIScope calleeScope=currentScope.getScope(callee.getString());
  for (  String freeVar : calleeScope.getOuterVars()) {
    if (calleeScope.getDeclaredTypeOf(freeVar) == null) {
      FunctionType summary=summaries.get(calleeScope).getFunType();
      JSType outerType=envGetType(env,freeVar);
      JSType innerType=summary.getOuterVarPrecondition(freeVar);
      if (outerType != null && !JSType.haveCommonSubtype(outerType,innerType)) {
        warnings.add(JSError.make(callee,CROSS_SCOPE_GOTCHA,freeVar,outerType.toString(),innerType.toString()));
      }
    }
  }
}

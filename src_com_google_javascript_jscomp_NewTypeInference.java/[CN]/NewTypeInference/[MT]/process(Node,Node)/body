{
  jsRoot=root;
  symbolTable=compiler.getSymbolTable();
  Scope gs=symbolTable.getGlobalScope();
  JSType arrayCtor=gs.getDeclaredTypeOf("Array");
  arrayType=arrayCtor == null ? TypeConsts.UNKNOWN : arrayCtor.getFunType().getReturnType();
  JSType regexpCtor=gs.getDeclaredTypeOf("RegExp");
  regexpType=regexpCtor == null ? TypeConsts.UNKNOWN : regexpCtor.getFunType().getReturnType();
  for (  Scope scope : symbolTable.getScopes()) {
    analyzeFunction(scope);
  }
  for (  DeferredCheck check : deferredChecks.values()) {
    check.runCheck(summaries,warnings);
  }
  for (  JSError warning : warnings) {
    compiler.report(warning);
  }
}

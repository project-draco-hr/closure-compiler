{
  boolean maybeModifiedArguments=maybeEscapedOrModifiedArguments(t.getScope(),referenceMap);
  List<Var> vars=ImmutableList.copyOf(t.getScope().getFunctionVars());
  for (  Var v : vars) {
    ReferenceCollection referenceInfo=referenceMap.getReferences(v);
    if (referenceInfo == null || isVarInlineForbidden(v)) {
      continue;
    }
 else     if (isInlineableDeclaredConstant(v,referenceInfo)) {
      Reference init=referenceInfo.getInitializingReferenceForConstants();
      Node value=init.getAssignedValue();
      inlineDeclaredConstant(v,value,referenceInfo.references);
      staleVars.add(v);
    }
 else     if (mode == Mode.CONSTANTS_ONLY) {
      continue;
    }
 else {
      inlineNonConstants(v,referenceInfo,maybeModifiedArguments);
    }
  }
}

{
  A.add(JSSourceFile.fromCode("a.js",""));
  B.add(JSSourceFile.fromCode("a.js",""));
  B.add(JSSourceFile.fromCode("b.js",""));
  C.add(JSSourceFile.fromCode("b.js",""));
  C.add(JSSourceFile.fromCode("c.js",""));
  E.add(JSSourceFile.fromCode("c.js",""));
  E.add(JSSourceFile.fromCode("d.js",""));
  graph.coalesceDuplicateFiles();
  assertEquals(2,A.getInputs().size());
  assertEquals("a.js",A.getInputs().get(0).getName());
  assertEquals("b.js",A.getInputs().get(1).getName());
  assertEquals(0,B.getInputs().size());
  assertEquals(1,C.getInputs().size());
  assertEquals("c.js",C.getInputs().get(0).getName());
  assertEquals(1,E.getInputs().size());
  assertEquals("d.js",E.getInputs().get(0).getName());
}

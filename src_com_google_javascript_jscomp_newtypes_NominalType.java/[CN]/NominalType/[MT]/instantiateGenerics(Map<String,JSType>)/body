{
  Preconditions.checkState(templateVars != null);
  for (  String typeParam : typeMap.keySet()) {
    Preconditions.checkState(templateVars.contains(typeParam));
  }
  for (  String typeParam : templateVars) {
    Preconditions.checkState(typeMap.containsKey(typeParam));
  }
  NominalType result=new NominalType(this.name + genericSuffix(typeMap),null,id,this.isInterface);
  Preconditions.checkState(superClass == null);
  Preconditions.checkState(interfaces.isEmpty(),"Interfaces not supported: " + interfaces);
  for (  String propName : this.classProps.keySet()) {
    result.classProps.put(propName,this.classProps.get(propName).substituteGenerics(typeMap));
  }
  for (  String propName : this.protoProps.keySet()) {
    result.protoProps.put(propName,this.protoProps.get(propName).substituteGenerics(typeMap));
  }
  return result.finalizeNominalType();
}

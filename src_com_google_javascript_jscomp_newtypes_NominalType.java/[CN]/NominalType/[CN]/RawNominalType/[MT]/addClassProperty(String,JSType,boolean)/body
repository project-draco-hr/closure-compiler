{
  Preconditions.checkState(!isFinalized);
  if (type == null && isConstant) {
    type=JSType.UNKNOWN;
  }
  classProps=classProps.with(pname,isConstant ? Property.makeConstant(type,type) : Property.make(type,type));
  if (protoProps.containsKey(pname)) {
    addProtoProperty(pname,type,isConstant);
  }
}

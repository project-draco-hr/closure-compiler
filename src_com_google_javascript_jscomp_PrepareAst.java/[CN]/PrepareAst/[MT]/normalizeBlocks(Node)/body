{
  if (NodeUtil.isControlStructure(n) && n.getType() != Token.LABEL && n.getType() != Token.SWITCH) {
    for (Node c=n.getFirstChild(); c != null; c=c.getNext()) {
      if (NodeUtil.isControlStructureCodeBlock(n,c) && c.getType() != Token.BLOCK) {
        Node newBlock=new Node(Token.BLOCK);
        newBlock.copyInformationFrom(n);
        n.replaceChild(c,newBlock);
        if (c.getType() != Token.EMPTY) {
          newBlock.addChildrenToFront(c);
        }
 else {
          newBlock.setWasEmptyNode(true);
        }
        c=newBlock;
        reportChange();
      }
    }
  }
}

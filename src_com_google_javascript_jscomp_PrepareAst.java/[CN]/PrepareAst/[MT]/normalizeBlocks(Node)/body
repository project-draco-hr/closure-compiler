{
  if (NodeUtil.isControlStructure(n) && !n.isLabel() && !n.isSwitch()) {
    for (Node c=n.getFirstChild(); c != null; c=c.getNext()) {
      if (NodeUtil.isControlStructureCodeBlock(n,c) && !c.isBlock()) {
        Node newBlock=new Node(Token.BLOCK,n.getLineno(),n.getCharno());
        newBlock.copyInformationFrom(n);
        n.replaceChild(c,newBlock);
        if (!c.isEmpty()) {
          newBlock.addChildrenToFront(c);
        }
 else {
          newBlock.setWasEmptyNode(true);
        }
        c=newBlock;
        reportChange();
      }
    }
  }
}

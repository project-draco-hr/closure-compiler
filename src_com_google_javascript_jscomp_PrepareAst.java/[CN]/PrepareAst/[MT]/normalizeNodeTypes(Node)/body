{
  if (n.getType() == Token.FUNCTION) {
    Preconditions.checkState(n.getProp(Node.FUNCTION_PROP) == null);
  }
  normalizeBlocks(n);
  for (Node child=n.getFirstChild(); child != null; child=child.getNext()) {
    Preconditions.checkState(child.getParent() == n);
    normalizeNodeTypes(child);
  }
}

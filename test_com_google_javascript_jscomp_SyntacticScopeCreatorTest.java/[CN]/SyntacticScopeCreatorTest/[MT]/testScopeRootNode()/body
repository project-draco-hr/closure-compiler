{
  String js="function foo() {\n" + " var x = 10;" + "}";
  Compiler compiler=new Compiler();
  Node root=compiler.parseTestCode(js);
  assertEquals(0,compiler.getErrorCount());
  Scope globalScope=new SyntacticScopeCreator(compiler).createScope(root,null);
  assertEquals(root,globalScope.getRootNode());
  Node fooNode=root.getFirstChild();
  assertEquals(Token.FUNCTION,fooNode.getType());
  Scope fooScope=new SyntacticScopeCreator(compiler).createScope(fooNode,null);
  assertEquals(fooNode,fooScope.getRootNode());
  assertTrue(fooScope.isDeclared("x",false));
}

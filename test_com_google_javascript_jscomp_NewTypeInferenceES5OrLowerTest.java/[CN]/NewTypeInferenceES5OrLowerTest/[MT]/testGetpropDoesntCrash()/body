{
  typeCheck("/** @constructor */ function Obj(){}\n" + "/** @constructor */ var Foo = function() {\n" + "    /** @private {Obj} */ this.obj;\n"+ "};\n"+ "Foo.prototype.update = function() {\n"+ "    if (!this.obj) {}\n"+ "};");
  typeCheck("/** @constructor */\n" + "function Obj(){}\n" + "/** @constructor */\n"+ "var Foo = function() {\n"+ "  /** @private {Obj} */ this.obj;\n"+ "};\n"+ "Foo.prototype.update = function() {\n"+ "    if (!this.obj.size) {}\n"+ "};",NewTypeInference.NULLABLE_DEREFERENCE);
  typeCheck("/** @constructor */\n" + "function Obj(){}\n" + "/** @constructor */\n"+ "var Foo = function() {\n"+ "  /** @private {Obj} */ this.obj;\n"+ "};\n"+ "/** @param {!Foo} x */\n"+ "function f(x) {\n"+ "  if (!x.obj.size) {}\n"+ "};",NewTypeInference.NULLABLE_DEREFERENCE);
}

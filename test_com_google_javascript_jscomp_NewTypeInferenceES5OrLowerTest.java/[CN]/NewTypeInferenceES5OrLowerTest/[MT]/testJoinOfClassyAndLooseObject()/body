{
  typeCheck("/** @constructor */\n" + "function Foo(){}\n" + "/** @type {number} */\n"+ "Foo.prototype.p = 5;\n"+ "function f(o) {\n"+ "  if (o.p == 5) {\n"+ "    (function(/** !Foo */ x){})(o);\n"+ "  }\n"+ "}");
  typeCheck("/** @constructor */\n" + "function Foo() { this.p = 123; }\n" + "function f(x) {\n"+ "  var y;\n"+ "  if (x.p) {\n"+ "    y = x;\n"+ "  } else {\n"+ "    y = new Foo;\n"+ "    y.prop = 'asdf';\n"+ "  }\n"+ "  y.p -123;\n"+ "}");
}

{
  typeCheck(LINE_JOINER.join("/** @record */","function WithPropT() {}","/** @type {number} */","WithPropT.prototype.prop;","function f(/** !WithPropT */ x){}","/** @constructor */","function Foo() {}","/** @type {number} */","Foo.prototype.prop;","f(new Foo);"));
  typeCheck(LINE_JOINER.join("/** @record @template T */","function WithPropT() {}","/** @type {T} */","WithPropT.prototype.prop;","function f(/** !WithPropT<number> */ x){}","/** @constructor */","function Foo() {}","/** @type {number} */","Foo.prototype.prop;","f(new Foo);"));
  typeCheck(LINE_JOINER.join("/** @record @template T */","function WithPropT() {}","/** @type {T} */","WithPropT.prototype.prop;","function f(/** !WithPropT<number> */ x){}","/** @constructor @template U */","function Foo() {}","/** @type {number} */","Foo.prototype.prop;","f(new Foo);"));
  typeCheck(LINE_JOINER.join("/** @record @template T */","function WithPropT() {}","/** @type {T} */","WithPropT.prototype.prop;","function f(/** !WithPropT<number> */ x){}","/** @constructor @template U */","function Foo() {}","/** @type {U} */","Foo.prototype.prop;","f(new Foo);"));
  typeCheck(LINE_JOINER.join("/** @record @template T */","function WithPropT() {}","/** @type {T} */","WithPropT.prototype.prop;","function f(/** !WithPropT<number> */ x){}","/** @constructor */","function Foo() {}","/** @type {string} */","Foo.prototype.prop;","f(new Foo);"),NewTypeInference.INVALID_ARGUMENT_TYPE);
  typeCheck(LINE_JOINER.join("/** @record @template T */","function WithPropT() {}","/** @type {T} */","WithPropT.prototype.prop;","function f(/** !WithPropT<number> */ x){}","/**"," * @constructor"," * @template U"," * @param {U} x"," */","function Foo(x) {}","/** @type {U} */","Foo.prototype.prop;","f(new Foo('asdf'));"),NewTypeInference.INVALID_ARGUMENT_TYPE);
  typeCheck(LINE_JOINER.join("/** @record @template T */","function WithProp() {}","/** @type {T} */","WithProp.prototype.prop;","/** @constructor */","function Foo() {","  /** @type {number} */ this.prop = 4;","}","/**"," * @template U"," * @param {!WithProp<U>} x"," */","function f(x){}","f(new Foo);"));
  typeCheck(LINE_JOINER.join("/** @record @template T */","function WithProp() {}","/** @type {T} */","WithProp.prototype.prop;","/** @constructor */","function Foo() {","  /** @type {number} */ this.prop = 4;","}","/**"," * @template U"," * @param {!WithProp<U>} x"," * @param {U} y"," */","function f(x, y){}","f(new Foo, 'str');"),NewTypeInference.NOT_UNIQUE_INSTANTIATION);
  typeCheck(LINE_JOINER.join("/** @record @template T */","function WithProp() {}","/** @type {T} */","WithProp.prototype.prop;","/** @constructor */","function Foo() {","  /** @type {number} */ this.prop = 4;","}","/** @constructor */","function Bar() {","  /** @type {string} */ this.prop = 'str';","}","/**"," * @template U"," * @param {!WithProp<U>} x"," * @param {!WithProp<U>} y"," */","function f(x, y){}","f(new Foo, new Bar);"),NewTypeInference.NOT_UNIQUE_INSTANTIATION);
}

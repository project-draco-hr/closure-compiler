{
  typeCheck("/** @constructor */\n" + "var Foo = function() {};\n" + "/** @param {function(!Foo)} fooFun */\n"+ "var reqFooFun = function(fooFun) {};\n"+ "/** @type {function(!Foo)} */\n"+ "var declaredFooFun;\n"+ "function f(opt_fooFun) {\n"+ "  reqFooFun(opt_fooFun);\n"+ "  var fooFun = opt_fooFun || declaredFooFun;\n"+ "  reqFooFun(fooFun);\n"+ "};");
  typeCheck("var /** @type {function(number)} */ f;\n" + "f = (function(x) {\n" + "  x(1, 2);\n"+ "  return x;\n"+ "})(function(x, y) {});");
}

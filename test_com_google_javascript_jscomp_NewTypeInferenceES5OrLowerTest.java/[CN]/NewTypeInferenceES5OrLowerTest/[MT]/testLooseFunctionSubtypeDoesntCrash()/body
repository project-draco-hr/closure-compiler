{
  typeCheck(Joiner.on('\n').join("/** @constructor */","var Foo = function() {};","/** @param {function(!Foo)} fooFun */","var reqFooFun = function(fooFun) {};","/** @type {function(!Foo)} */","var declaredFooFun;","function f(opt_fooFun) {","  reqFooFun(opt_fooFun);","  var fooFun = opt_fooFun || declaredFooFun;","  reqFooFun(fooFun);","};"));
  typeCheck(Joiner.on('\n').join("var /** @type {function(number)} */ f;","f = (function(x) {","  x(1, 2);","  return x;","})(function(x, y) {});"));
}

{
  Compiler compiler=lastCompiler=new Compiler();
  BlackHoleErrorManager.silence(compiler);
  List<SourceFile> inputs=Lists.newArrayList();
  for (int i=0; i < original.length; i++) {
    inputs.add(SourceFile.fromCode("input" + i,original[i]));
  }
  compiler.compileModules(externs,Lists.newArrayList(CompilerTestCase.createModuleChain(original)),options);
  return compiler;
}

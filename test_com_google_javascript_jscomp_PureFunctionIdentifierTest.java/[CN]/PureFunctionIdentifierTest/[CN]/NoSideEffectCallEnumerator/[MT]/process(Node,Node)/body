{
  compiler.setHasRegExpGlobalReferences(regExpHaveSideEffects);
  SimpleDefinitionFinder defFinder=new SimpleDefinitionFinder(compiler);
  defFinder.process(externs,root);
  PureFunctionIdentifier passUnderTest=new PureFunctionIdentifier(compiler,defFinder);
  passUnderTest.process(externs,root);
  String debugReport=passUnderTest.getDebugReport();
  NodeTraversal.traverse(compiler,externs,this);
  NodeTraversal.traverse(compiler,root,this);
}

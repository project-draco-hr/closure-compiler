{
  if (!instance.hasProperty(prop)) {
    String sourceName=(String)n.getProp(Node.SOURCENAME_PROP);
    sourceName=sourceName == null ? "" : sourceName;
    if (shouldReport) {
      compiler.report(JSError.make(sourceName,n,INTERFACE_METHOD_NOT_IMPLEMENTED,prop,implementedInterface.toString(),instance.toString()));
    }
    registerMismatch(instance,implementedInterface);
  }
 else {
    JSType found=instance.getPropertyType(prop);
    JSType required=implementedInterface.getImplicitPrototype().getPropertyType(prop);
    found=found.restrictByNotNullOrUndefined();
    required=required.restrictByNotNullOrUndefined();
    if (!found.canAssignTo(required)) {
      if (shouldReport) {
        FunctionType constructor=implementedInterface.toObjectType().getConstructor();
        compiler.report(t.makeError(n,HIDDEN_INTERFACE_PROPERTY_MISMATCH,prop,constructor.getTopMostDefiningType(prop).toString(),required.toString(),found.toString()));
      }
      registerMismatch(found,required);
    }
  }
}

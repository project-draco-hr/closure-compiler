{
  Loop loop=optimizer.addFixedPointLoop();
  List<String> optimalOrder=Lists.newArrayList(PhaseOptimizer.OPTIMAL_ORDER);
  Random random=new Random();
  while (optimalOrder.size() > 0) {
    addLoopedPass(loop,optimalOrder.remove(random.nextInt(optimalOrder.size())),0);
  }
  optimizer.process(null,dummyRoot);
  assertEquals(PhaseOptimizer.OPTIMAL_ORDER,passesRun);
}

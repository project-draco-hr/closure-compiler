{
  test(LINE_JOINER.join("while(true) {","  let x, y;","  function f() {","    x = 1;","    y = 2;","  }","}"),LINE_JOINER.join("var $jscomp$loop$0 = {};","while(true) {","  $jscomp$loop$0.x = undefined;","  var f = function($jscomp$loop$0) {","    return function f() {","      $jscomp$loop$0.x = 1;","      $jscomp$loop$0.y = 2;","    }","  }($jscomp$loop$0);","  $jscomp$loop$0 = {x: $jscomp$loop$0.x, y: $jscomp$loop$0.y};","}"));
  test(LINE_JOINER.join("while(true) {","  let x, y;","  function f() {","    y = 2;","    x = 1;","  }","}"),LINE_JOINER.join("var $jscomp$loop$0 = {};","while(true) {","  $jscomp$loop$0.x = undefined;","  var f = function($jscomp$loop$0) {","    return function f() {","      $jscomp$loop$0.y = 2;","      $jscomp$loop$0.x = 1;","    }","  }($jscomp$loop$0);","  $jscomp$loop$0 = {y: $jscomp$loop$0.y, x: $jscomp$loop$0.x};","}"));
}

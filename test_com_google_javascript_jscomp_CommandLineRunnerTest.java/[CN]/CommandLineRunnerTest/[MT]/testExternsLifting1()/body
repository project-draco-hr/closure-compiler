{
  String code="/** @externs */ function f() {}";
  test(new String[]{code},new String[]{});
  assertThat(lastCompiler.getExternsForTesting()).hasSize(2);
  CompilerInput extern=lastCompiler.getExternsForTesting().get(1);
  assertNull(extern.getModule());
  assertTrue(extern.isExtern());
  assertEquals(code,extern.getCode());
  assertThat(lastCompiler.getInputsForTesting()).hasSize(1);
  CompilerInput input=lastCompiler.getInputsForTesting().get(0);
  assertNotNull(input.getModule());
  assertFalse(input.isExtern());
  assertThat(input.getCode()).isEmpty();
}

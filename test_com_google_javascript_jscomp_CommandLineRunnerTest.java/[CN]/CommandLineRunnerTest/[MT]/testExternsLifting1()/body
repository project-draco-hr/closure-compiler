{
  String code="/** @externs */ function f() {}";
  test(new String[]{code},new String[]{});
  assertEquals(2,lastCompiler.getExternsForTesting().size());
  CompilerInput extern=lastCompiler.getExternsForTesting().get(1);
  assertNull(extern.getModule());
  assertTrue(extern.isExtern());
  assertEquals(code,extern.getCode());
  assertEquals(1,lastCompiler.getInputsForTesting().size());
  CompilerInput input=lastCompiler.getInputsForTesting().get(0);
  assertNotNull(input.getModule());
  assertFalse(input.isExtern());
  assertEquals("",input.getCode());
}

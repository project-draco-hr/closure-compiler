{
  Preconditions.checkState(aliasedFunctions == null);
  aliasedFunctions=Sets.newHashSet();
  functionsExposedToCallOrApply=Sets.newHashSet();
  for (  DefinitionSite definitionSite : finder.getDefinitionSites()) {
    Definition definition=definitionSite.definition;
    if (!definition.isExtern()) {
      Node rValue=definition.getRValue();
      if (rValue != null && NodeUtil.isFunction(rValue)) {
        for (        UseSite useSite : finder.getUseSites(definition)) {
          updateFunctionForUse(rValue,useSite.node);
        }
      }
    }
  }
}

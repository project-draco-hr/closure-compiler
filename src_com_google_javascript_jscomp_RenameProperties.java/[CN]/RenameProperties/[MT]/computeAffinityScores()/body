{
  for (  Property p : propertyMap.values()) {
    for (    Property other : propertyMap.values()) {
      if (p != other && p.numOccurrences < other.numOccurrences) {
        List<GraphEdge<Property,PropertyAffinity>> edges=affinityGraph.getEdges(p,other);
        if (!edges.isEmpty()) {
          p.affinityScore+=edges.get(0).getValue().affinity + other.numOccurrences;
        }
      }
    }
  }
}

{
  Node irNode=transform(node);
  if (!irNode.isBlock()) {
    if (irNode.isEmpty()) {
      irNode.setType(Token.BLOCK);
      irNode.setWasEmptyNode(true);
    }
 else {
      Node newBlock=newNode(Token.BLOCK,irNode);
      newBlock.setLineno(irNode.getLineno());
      newBlock.setCharno(irNode.getCharno());
      maybeSetLengthFrom(newBlock,node);
      irNode=newBlock;
    }
  }
  return irNode;
}

{
  IRFactory irFactory=new IRFactory(sourceString,node.getSourceName(),config,errorReporter);
  Node irNode=irFactory.transform(node);
  Node.FileLevelJsDocBuilder fileLevelJsDocBuilder=irNode.getJsDocBuilderForNode();
  JSDocInfo fileOverviewInfo=null;
  if (node.getComments() != null) {
    for (    Comment comment : node.getComments()) {
      if (comment.getCommentType() == JSDOC && (comment.getValue().contains("@fileoverview") || comment.getValue().contains("@preserve") || comment.getValue().contains("@license"))) {
        JSDocInfo info=irFactory.parseJSDocInfo(comment.getValue(),comment.getLineno(),comment.getAbsolutePosition(),fileLevelJsDocBuilder,fileOverviewInfo);
        if (info != null && fileOverviewInfo == null) {
          fileOverviewInfo=info;
        }
      }
    }
    if (fileOverviewInfo != null) {
      if ((irNode.getJSDocInfo() != null) && (irNode.getJSDocInfo().getLicense() != null)) {
        fileOverviewInfo.setLicense(irNode.getJSDocInfo().getLicense());
      }
      irNode.setJSDocInfo(fileOverviewInfo);
    }
    Comment[] comments=new Comment[node.getComments().size()];
    comments=node.getComments().toArray(comments);
    irFactory.parseAllJsDocInfo(irNode,comments,0);
  }
  return irNode;
}

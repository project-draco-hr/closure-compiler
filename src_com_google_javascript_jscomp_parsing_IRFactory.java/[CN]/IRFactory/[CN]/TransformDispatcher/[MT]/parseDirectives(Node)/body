{
  Set<String> directives=null;
  while (isDirective(node.getFirstChild())) {
    String directive=node.removeFirstChild().getFirstChild().getString();
    if (directives == null) {
      directives=Sets.newHashSet(directive);
    }
 else {
      directives.add(directive);
    }
  }
  if (directives != null) {
    node.setDirectives(directives);
  }
}

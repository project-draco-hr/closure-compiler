{
  if (nom == null) {
    return props.with(pname,prop);
  }
  Property nomProp=nom.getProp(pname);
  if (nomProp == null) {
    return props.with(pname,prop);
  }
  JSType propType=prop.getType();
  JSType nomPropType=nomProp.getType();
  if (!propType.isUnknown() && propType.isSubtypeOf(nomPropType) && !propType.equals(nomPropType)) {
    return props.with(pname,nomProp.specialize(prop));
  }
  return props;
}

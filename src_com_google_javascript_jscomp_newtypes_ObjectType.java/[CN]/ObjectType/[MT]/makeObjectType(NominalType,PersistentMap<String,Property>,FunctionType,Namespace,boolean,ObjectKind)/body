{
  if (props == null) {
    props=PersistentMap.create();
  }
 else   if (containsBottomProp(props) || !FunctionType.isInhabitable(fn)) {
    return BOTTOM_OBJECT;
  }
  if (fn != null && !props.containsKey("prototype") && (ns == null || ns.getNsProp("prototype") == null)) {
    props=props.with("prototype",UNKNOWN_PROP);
  }
  return new ObjectType(nominalType,props,fn,ns,isLoose,ok);
}

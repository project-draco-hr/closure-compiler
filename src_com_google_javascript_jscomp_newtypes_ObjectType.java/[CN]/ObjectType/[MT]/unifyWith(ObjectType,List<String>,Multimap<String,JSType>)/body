{
  if (nominalType != other.nominalType) {
    return false;
  }
  if (fn != null) {
    if (other.fn == null || !fn.unifyWith(other.fn,templateVars,typeMultimap)) {
      return false;
    }
  }
  for (  String propName : this.props.keySet()) {
    Property thisProp=props.get(propName);
    Property otherProp=other.props.get(propName);
    if (otherProp == null || !thisProp.unifyWith(otherProp,templateVars,typeMultimap)) {
      return false;
    }
  }
  return true;
}

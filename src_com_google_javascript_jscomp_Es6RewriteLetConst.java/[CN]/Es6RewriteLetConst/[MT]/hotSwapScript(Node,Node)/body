{
  NodeTraversal.traverse(compiler,scriptRoot,this);
  NodeTraversal.traverse(compiler,scriptRoot,new RenameReferences());
  LoopClosureTransformer transformer=new LoopClosureTransformer();
  NodeTraversal.traverse(compiler,scriptRoot,transformer);
  transformer.transformLoopClosure();
  if (!letConsts.isEmpty()) {
    for (    Node n : letConsts) {
      n.setType(Token.VAR);
    }
    compiler.reportCodeChange();
  }
}

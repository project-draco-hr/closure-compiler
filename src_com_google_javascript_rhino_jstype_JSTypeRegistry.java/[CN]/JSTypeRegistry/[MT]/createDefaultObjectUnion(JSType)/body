{
  if (type.isTemplateType()) {
    return type;
  }
 else {
    return shouldTolerateUndefinedValues() ? createOptionalNullableType(type) : createNullableType(type);
  }
}

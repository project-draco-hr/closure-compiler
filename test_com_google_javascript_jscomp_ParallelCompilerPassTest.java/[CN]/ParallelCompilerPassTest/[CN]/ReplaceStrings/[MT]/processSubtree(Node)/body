{
  NodeTraversal.traverse(compiler,subtree,new AbstractPostOrderCallback(){
    @Override public void visit(    NodeTraversal t,    Node n,    Node parent){
      if ((n.isString() || n.isName()) && n.getString().equals("foo")) {
        n.setString("bar");
      }
    }
  }
);
  return result;
}

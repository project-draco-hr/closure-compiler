{
  NodeTraversal.traverse(compiler,subtree,new AbstractPostOrderCallback(){
    @Override public void visit(    NodeTraversal t,    Node n,    Node parent){
      if ((NodeUtil.isString(n) || NodeUtil.isName(n)) && n.getString().equals("foo")) {
        n.setString("bar");
      }
    }
  }
);
  return result;
}

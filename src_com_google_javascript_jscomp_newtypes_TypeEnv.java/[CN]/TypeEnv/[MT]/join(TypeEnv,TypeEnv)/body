{
  PersistentMap<String,JSType> newMap=e1.typeMap;
  for (  String n : e2.typeMap.keySet()) {
    JSType type1=e1.getType(n);
    JSType type2=e2.getType(n);
    newMap=newMap.with(n,type1 == null ? type2 : JSType.join(type1,type2));
  }
  return new TypeEnv(newMap);
}

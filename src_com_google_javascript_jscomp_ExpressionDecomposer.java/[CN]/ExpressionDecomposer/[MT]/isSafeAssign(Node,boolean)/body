{
  if (n.isAssign()) {
    Node lhs=n.getFirstChild();
switch (lhs.getType()) {
case Token.NAME:
      return true;
case Token.GETPROP:
    return !isExpressionTreeUnsafe(lhs.getFirstChild(),seenSideEffects);
case Token.GETELEM:
  return !isExpressionTreeUnsafe(lhs.getFirstChild(),seenSideEffects) && !isExpressionTreeUnsafe(lhs.getLastChild(),seenSideEffects);
}
}
return false;
}

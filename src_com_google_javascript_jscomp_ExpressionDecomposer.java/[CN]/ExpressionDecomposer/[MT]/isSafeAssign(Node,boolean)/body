{
  if (n.isAssign()) {
    Node lhs=n.getFirstChild();
switch (lhs.getType()) {
case NAME:
      return true;
case GETPROP:
    return !isExpressionTreeUnsafe(lhs.getFirstChild(),seenSideEffects);
case GETELEM:
  return !isExpressionTreeUnsafe(lhs.getFirstChild(),seenSideEffects) && !isExpressionTreeUnsafe(lhs.getLastChild(),seenSideEffects);
}
}
return false;
}

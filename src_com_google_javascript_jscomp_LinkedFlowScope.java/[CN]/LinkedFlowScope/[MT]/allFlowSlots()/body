{
  Map<String,StaticSlot<JSType>> slots=Maps.newHashMap();
  for (LinkedFlowSlot slot=lastSlot; slot != null; slot=slot.parent) {
    if (!slots.containsKey(slot.getName())) {
      slots.put(slot.getName(),slot);
    }
  }
  for (  String key : cache.symbols.keySet()) {
    if (!slots.containsKey(key)) {
      slots.put(key,cache.symbols.get(key));
    }
  }
  return slots;
}

{
  if (thatType.isUnknownType()) {
    return true;
  }
  if (thatType.isAllType()) {
    return true;
  }
  if (thisType.isEquivalentTo(thatType)) {
    return true;
  }
  if (thatType.isUnionType()) {
    UnionType union=thatType.toMaybeUnionType();
    for (    JSType element : union.alternates) {
      if (thisType.isSubtype(element)) {
        return true;
      }
    }
    return false;
  }
  if (thisType.isTemplatizedType() && thatType.isTemplatizedType()) {
    JSType rawThisType=thisType.toMaybeTemplatizedType().getReferencedType();
    JSType rawThatType=thatType.toMaybeTemplatizedType().getReferencedType();
    if (!rawThisType.isSubtype(rawThatType)) {
      return false;
    }
    TemplateTypeMap thisTypeParams=thisType.getTemplateTypeMap();
    TemplateTypeMap thatTypeParams=thatType.getTemplateTypeMap();
    if (thisTypeParams.checkEquivalenceHelper(thatTypeParams,EquivalenceMethod.INVARIANT)) {
      return true;
    }
 else     if (isExemptFromTemplateTypeInvariance(thatType)) {
      TemplateType key=thisType.registry.getObjectElementKey();
      JSType thisElement=thisTypeParams.getTemplateType(key);
      JSType thatElement=thatTypeParams.getTemplateType(key);
      return thisElement.isSubtype(thatElement) || thatElement.isSubtype(thisElement);
    }
 else {
      return false;
    }
  }
  if (thisType.isTemplatizedType()) {
    return thisType.toMaybeTemplatizedType().getReferencedType().isSubtype(thatType);
  }
  if (thatType instanceof ProxyObjectType) {
    return thisType.isSubtype(((ProxyObjectType)thatType).getReferencedTypeInternal());
  }
  return false;
}

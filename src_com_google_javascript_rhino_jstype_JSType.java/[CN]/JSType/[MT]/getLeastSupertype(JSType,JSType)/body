{
  if (thatType.isAllType() || (thatType.isEmptyType() && !thatType.isNamedType())) {
    return thatType.getLeastSupertype(thisType);
  }
  return thisType.registry.createUnionType(thisType,thatType);
}

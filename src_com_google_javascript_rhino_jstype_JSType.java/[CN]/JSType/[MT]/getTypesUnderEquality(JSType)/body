{
  if (that instanceof UnionType) {
    Pair<JSType,JSType> p=that.getTypesUnderEquality(this);
    return Pair.of(p.second,p.first);
  }
switch (this.testForEquality(that)) {
case FALSE:
    return Pair.of(null,null);
case TRUE:
case UNKNOWN:
  return Pair.of(this,that);
}
throw new IllegalStateException();
}

{
  if (that instanceof UnionType) {
    Pair<JSType,JSType> p=that.getTypesUnderShallowInequality(this);
    return Pair.of(p.second,p.first);
  }
  if (this.isNullType() && that.isNullType() || this.isVoidType() && that.isVoidType()) {
    return Pair.of(null,null);
  }
 else {
    return Pair.of(this,that);
  }
}

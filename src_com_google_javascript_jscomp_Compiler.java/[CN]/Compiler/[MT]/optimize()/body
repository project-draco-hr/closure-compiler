{
  normalize();
  PhaseOptimizer phaseOptimizer=new PhaseOptimizer(this,tracker,null);
  if (options.devMode == DevMode.EVERY_PASS) {
    phaseOptimizer.setSanityCheck(sanityCheck);
  }
  if (options.getCheckDeterminism()) {
    phaseOptimizer.setPrintAstHashcodes(true);
  }
  phaseOptimizer.consume(getPassConfig().getOptimizations());
  phaseOptimizer.process(externsRoot,jsRoot);
}

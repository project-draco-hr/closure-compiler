{
  typeCheck("/** @constructor */ function Foo() {}; Foo();",TypeCheck.CONSTRUCTOR_NOT_CALLABLE);
  typeCheck("function Foo() {}; new Foo();",NewTypeInference.NOT_A_CONSTRUCTOR);
  checkNoWarnings("/** @constructor */ function Foo() {};\n" + "function reqFoo(/** Foo */ f) {};\n" + "reqFoo(new Foo());");
  typeCheck("/** @constructor */ function Foo() {};\n" + "/** @constructor */ function Bar() {};\n" + "function reqFoo(/** Foo */ f) {};\n"+ "reqFoo(new Bar());",NewTypeInference.INVALID_ARGUMENT_TYPE);
  typeCheck("/** @constructor */ function Foo() {};\n" + "function reqFoo(/** Foo */ f) {};\n" + "function g() {\n"+ "  /** @constructor */ function Foo() {};\n"+ "  reqFoo(new Foo());\n"+ "}",NewTypeInference.INVALID_ARGUMENT_TYPE);
  typeCheck("/** @constructor */\n" + "function Foo() {}\n" + "/** @param {number} x */\n"+ "Foo.prototype.method = function(x) {};\n"+ "/** @param {!Foo} x */\n"+ "function f(x) { x.method('asdf'); }",NewTypeInference.INVALID_ARGUMENT_TYPE);
}

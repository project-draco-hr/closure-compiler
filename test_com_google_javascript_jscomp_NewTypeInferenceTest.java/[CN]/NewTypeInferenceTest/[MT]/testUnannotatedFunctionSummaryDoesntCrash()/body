{
  typeCheckCustomExterns(DEFAULT_EXTERNS + "/** @interface */\n" + "var IThenable = function() {};\n"+ "IThenable.prototype.then = function(onFulfilled) {};\n"+ "/** @constructor @implements {IThenable} */\n"+ "var Promise = function() {};\n"+ "/**\n"+ " * @param {function():RESULT} onFulfilled\n"+ " * @template RESULT\n"+ " */\n"+ "Promise.prototype.then = function(onFulfilled) {};","var /** !Promise */ p;\n" + "function f(unused) {\n" + "  function g(){ return 5; }\n"+ "  p.then(g);\n"+ "}");
  typeCheckCustomExterns(DEFAULT_EXTERNS + "/** @interface */\n" + "var IThenable = function() {};\n"+ "IThenable.prototype.then = function(onFulfilled) {};\n"+ "/** @constructor @implements {IThenable} */\n"+ "var Promise = function() {};\n"+ "/**\n"+ " * @param {function():RESULT} onFulfilled\n"+ " * @return {RESULT}\n"+ " * @template RESULT\n"+ " */\n"+ "Promise.prototype.then = function(onFulfilled) {};","var /** !Promise */ p;\n" + "function f(unused) {\n" + "  function g(){ return 5; }\n"+ "  var /** null */ n = p.then(g);\n"+ "}",NewTypeInference.MISTYPED_ASSIGN_RHS);
}

{
  if (!isFunctionDeclaration(n)) {
    return false;
  }
  Node current=n.getParent();
  while (current != null) {
switch (current.getType()) {
case Token.BLOCK:
      return !current.getParent().isFunction();
case Token.FUNCTION:
case Token.SCRIPT:
case Token.DECLARE:
case Token.EXPORT:
    return false;
default :
  Preconditions.checkState(current.isLabel());
current=current.getParent();
}
}
return false;
}

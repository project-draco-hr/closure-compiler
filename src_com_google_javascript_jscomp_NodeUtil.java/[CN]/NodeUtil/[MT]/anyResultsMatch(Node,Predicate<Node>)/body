{
switch (n.getType()) {
case Token.ASSIGN:
case Token.COMMA:
    return anyResultsMatch(n.getLastChild(),p);
case Token.AND:
case Token.OR:
  return anyResultsMatch(n.getFirstChild(),p) || anyResultsMatch(n.getLastChild(),p);
case Token.HOOK:
return anyResultsMatch(n.getFirstChild().getNext(),p) || anyResultsMatch(n.getLastChild(),p);
default :
return p.apply(n);
}
}

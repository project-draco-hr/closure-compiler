{
switch (n.getType()) {
case Token.TEMPLATELIT:
    if (n.hasOneChild()) {
      return TernaryValue.forBoolean(!n.getFirstChild().getString().isEmpty());
    }
  break;
case Token.STRING:
return TernaryValue.forBoolean(n.getString().length() > 0);
case Token.NUMBER:
return TernaryValue.forBoolean(n.getDouble() != 0);
case Token.NOT:
return getPureBooleanValue(n.getLastChild()).not();
case Token.NULL:
case Token.FALSE:
return TernaryValue.FALSE;
case Token.VOID:
if (!mayHaveSideEffects(n.getFirstChild())) {
return TernaryValue.FALSE;
}
break;
case Token.NAME:
String name=n.getString();
if ("undefined".equals(name) || "NaN".equals(name)) {
return TernaryValue.FALSE;
}
 else if ("Infinity".equals(name)) {
return TernaryValue.TRUE;
}
break;
case Token.CLASS:
return TernaryValue.TRUE;
case Token.TRUE:
case Token.REGEXP:
return TernaryValue.TRUE;
case Token.FUNCTION:
return isFunctionExpression(n) ? TernaryValue.TRUE : TernaryValue.UNKNOWN;
case Token.NEW:
case Token.ARRAYLIT:
case Token.OBJECTLIT:
if (!mayHaveSideEffects(n)) {
return TernaryValue.TRUE;
}
break;
}
return TernaryValue.UNKNOWN;
}

{
  Preconditions.checkState(block.getType() == Token.BLOCK);
  Node parent=block.getParent();
  if (NodeUtil.isStatementBlock(parent)) {
    Node previous=block;
    while (block.hasChildren()) {
      Node child=block.removeFirstChild();
      parent.addChildAfter(child,previous);
      previous=child;
    }
    parent.removeChild(block);
    return true;
  }
 else   if (parent.getType() == Token.LABEL && block.hasOneChild()) {
    parent.replaceChild(block,block.removeFirstChild());
    return true;
  }
 else {
    return false;
  }
}

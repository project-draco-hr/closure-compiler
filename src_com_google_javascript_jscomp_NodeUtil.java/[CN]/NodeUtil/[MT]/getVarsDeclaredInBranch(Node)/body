{
  VarCollector collector=new VarCollector();
  visitPreOrder(root,collector,Predicates.<Node>not(new MatchNodeType(Token.FUNCTION)));
  return collector.vars.values();
}

{
  int total=0;
  if (pred.apply(n)) {
    total++;
  }
  for (Node c=n.getFirstChild(); c != null; c=c.getNext()) {
    total+=getCount(c,pred);
  }
  return total;
}

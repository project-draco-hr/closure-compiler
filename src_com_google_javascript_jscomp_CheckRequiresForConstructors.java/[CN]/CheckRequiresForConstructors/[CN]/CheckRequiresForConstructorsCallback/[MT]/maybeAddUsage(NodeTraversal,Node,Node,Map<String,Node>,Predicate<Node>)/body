{
  Visitor visitor=new Visitor(){
    public void visit(    Node typeNode){
      if (typeNode.isString()) {
        String typeString=typeNode.getString();
        String rootName=Splitter.on('.').split(typeString).iterator().next();
        Var var=t.getScope().getVar(rootName);
        if (var == null || !var.isExtern()) {
          usagesMap.put(typeString,n);
          Node getprop=NodeUtil.newQName(compiler,typeString);
          getprop.useSourceInfoIfMissingFromForTree(typeNode);
          visitGetProp(getprop);
        }
      }
    }
  }
;
  NodeUtil.visitPreOrder(rootTypeNode,visitor,pred);
}

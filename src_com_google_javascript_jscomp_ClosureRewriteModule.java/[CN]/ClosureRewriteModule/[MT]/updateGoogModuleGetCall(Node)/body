{
  Node legacyNamespaceNode=call.getSecondChild();
  String legacyNamespace=legacyNamespaceNode.getString();
  if (currentScript.isModule) {
    NodeUtil.getEnclosingStatement(call).detachFromParent();
  }
 else {
    Node exportedNamespaceName=NodeUtil.newQName(compiler,rewriteState.getExportedNamespace(legacyNamespace)).srcrefTree(call);
    exportedNamespaceName.putProp(Node.ORIGINALNAME_PROP,legacyNamespace);
    call.getParent().replaceChild(call,exportedNamespaceName);
  }
  compiler.reportCodeChange();
}

{
  String src="var x = 1; function f() { x = null; }";
  String expectedWhenNotTraversingFunctions="digraph AST {\n" + "  node [color=lightblue2, style=filled];\n" + "  node0 [label=\"SCRIPT\"];\n"+ "  node1 [label=\"VAR\"];\n"+ "  node0 -> node1 [weight=1];\n"+ "  node2 [label=\"NAME\"];\n"+ "  node1 -> node2 [weight=1];\n"+ "  node3 [label=\"NUMBER\"];\n"+ "  node2 -> node3 [weight=1];\n"+ "  node1 -> RETURN "+ "[label=\"UNCOND\", fontcolor=\"red\", weight=0.01, color=\"red\"];\n"+ "  node4 [label=\"FUNCTION\"];\n"+ "  node0 -> node4 [weight=1];\n"+ "  node5 [label=\"NAME\"];\n"+ "  node4 -> node5 [weight=1];\n"+ "  node6 [label=\"PARAM_LIST\"];\n"+ "  node4 -> node6 [weight=1];\n"+ "  node7 [label=\"BLOCK\"];\n"+ "  node4 -> node7 [weight=1];\n"+ "  node8 [label=\"EXPR_RESULT\"];\n"+ "  node7 -> node8 [weight=1];\n"+ "  node9 [label=\"ASSIGN\"];\n"+ "  node8 -> node9 [weight=1];\n"+ "  node10 [label=\"NAME\"];\n"+ "  node9 -> node10 [weight=1];\n"+ "  node11 [label=\"NULL\"];\n"+ "  node9 -> node11 [weight=1];\n"+ "  node0 -> node1 "+ "[label=\"UNCOND\", fontcolor=\"red\", weight=0.01, color=\"red\"];\n"+ "}\n";
  String expected="digraph AST {\n" + "  node [color=lightblue2, style=filled];\n" + "  node0 [label=\"SCRIPT\"];\n"+ "  node1 [label=\"VAR\"];\n"+ "  node0 -> node1 [weight=1];\n"+ "  node2 [label=\"NAME\"];\n"+ "  node1 -> node2 [weight=1];\n"+ "  node3 [label=\"NUMBER\"];\n"+ "  node2 -> node3 [weight=1];\n"+ "  node1 -> RETURN "+ "[label=\"UNCOND\", fontcolor=\"red\", weight=0.01, color=\"red\"];\n"+ "  node4 [label=\"FUNCTION\"];\n"+ "  node0 -> node4 [weight=1];\n"+ "  node5 [label=\"NAME\"];\n"+ "  node4 -> node5 [weight=1];\n"+ "  node6 [label=\"PARAM_LIST\"];\n"+ "  node4 -> node6 [weight=1];\n"+ "  node7 [label=\"BLOCK\"];\n"+ "  node4 -> node7 [weight=1];\n"+ "  node8 [label=\"EXPR_RESULT\"];\n"+ "  node7 -> node8 [weight=1];\n"+ "  node9 [label=\"ASSIGN\"];\n"+ "  node8 -> node9 [weight=1];\n"+ "  node10 [label=\"NAME\"];\n"+ "  node9 -> node10 [weight=1];\n"+ "  node11 [label=\"NULL\"];\n"+ "  node9 -> node11 [weight=1];\n"+ "  node8 -> RETURN "+ "[label=\"UNCOND\", fontcolor=\"red\", weight=0.01, color=\"red\"];\n"+ "  node7 -> node8 "+ "[label=\"UNCOND\", fontcolor=\"red\", weight=0.01, color=\"red\"];\n"+ "  node4 -> node7 "+ "[label=\"UNCOND\", fontcolor=\"red\", weight=0.01, color=\"red\"];\n"+ "  node0 -> node1 "+ "[label=\"UNCOND\", fontcolor=\"red\", weight=0.01, color=\"red\"];\n"+ "}\n";
  testCfg(src,expected);
  testCfg(src,expectedWhenNotTraversingFunctions,false);
}

{
  CompilerOptions options=createCompilerOptions();
  options.closurePass=true;
  test(options,"goog.provide('foo.Bar.Type');\n" + "goog.provide('foo.Bar');\n" + "/** @typedef {number} */ foo.Bar.Type;\n"+ "foo.Bar = function() {};","var foo = {}; foo.Bar.Type; foo.Bar = function() {};");
}

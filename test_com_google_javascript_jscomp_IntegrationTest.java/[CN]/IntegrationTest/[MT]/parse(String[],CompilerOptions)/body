{
  Compiler compiler=new Compiler();
  JSSourceFile[] inputs=new JSSourceFile[original.length];
  for (int i=0; i < inputs.length; i++) {
    inputs[i]=JSSourceFile.fromCode("input" + i,original[i]);
  }
  compiler.init(externs,inputs,options);
  checkUnexpectedErrorsOrWarnings(compiler,0);
  Node all=compiler.parseInputs();
  checkUnexpectedErrorsOrWarnings(compiler,0);
  Node n=all.getLastChild();
  Node externs=all.getFirstChild();
  (new CreateSyntheticBlocks(compiler,"synStart","synEnd")).process(externs,n);
  (new Normalize(compiler,false)).process(externs,n);
  (MakeDeclaredNamesUnique.getContextualRenameInverter(compiler)).process(externs,n);
  (new Denormalize(compiler)).process(externs,n);
  return n;
}

{
  if (parent == null || !parent.isScript()) {
    return;
  }
  if (NodeUtil.isFunctionDeclaration(n)) {
    parent.removeChild(n);
    compiler.reportCodeChange();
    JSModule module=t.getModule();
    List<Node> moduleFunctions=functions.get(module);
    if (moduleFunctions == null) {
      moduleFunctions=new ArrayList<>();
      functions.put(module,moduleFunctions);
    }
    moduleFunctions.add(n);
  }
}

{
  inputId=t.getInputId();
  if (n.getType() == Token.FUNCTION || n.getType() == Token.SCRIPT) {
    Preconditions.checkNotNull(inputId);
    sourceName=NodeUtil.getSourceName(n);
  }
  boolean descend=parent == null || parent.getType() != Token.FUNCTION || n == parent.getFirstChild() || parent == scope.getRootNode();
  if (descend) {
    if (NodeUtil.isStatementParent(n)) {
      for (Node child=n.getFirstChild(); child != null; child=child.getNext()) {
        if (NodeUtil.isHoistedFunctionDeclaration(child)) {
          defineFunctionLiteral(child,n);
        }
      }
    }
  }
  return descend;
}

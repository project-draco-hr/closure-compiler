{
  for (  Node callNode : allFunctionCalls) {
    Collection<Definition> defs=getFunctionDefinitions(definitionProvider,callNode);
    Node.SideEffectFlags flags=new Node.SideEffectFlags();
    if (defs == null) {
      flags.setMutatesGlobalState();
      flags.setThrows();
      flags.setReturnsTainted();
    }
 else {
      flags.clearAllFlags();
      for (      Definition def : defs) {
        updateFlagsForDefs(callNode,def.getRValue(),flags);
        if (flags.areAllFlagsSet()) {
          break;
        }
      }
    }
    if (callNode.isCall()) {
      Preconditions.checkState(compiler != null);
      if (!NodeUtil.functionCallHasSideEffects(callNode,compiler)) {
        flags.clearSideEffectFlags();
      }
    }
 else     if (callNode.isNew()) {
      if (!NodeUtil.constructorCallHasSideEffects(callNode)) {
        flags.clearSideEffectFlags();
      }
    }
    callNode.setSideEffectFlags(flags.valueOf());
  }
}

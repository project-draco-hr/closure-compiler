{
  if (inExterns) {
    JSType jstype=function.getJSType();
    boolean knownLocalResult=false;
    if (jstype != null && jstype.isFunctionType()) {
      FunctionType functionType=(FunctionType)jstype;
      JSType jstypeReturn=functionType.getReturnType();
      if (isLocalValueType(jstypeReturn,true)) {
        knownLocalResult=true;
      }
    }
    if (!knownLocalResult) {
      sideEffectInfo.setTaintsReturn();
    }
  }
  JSDocInfo info=getJSDocInfoForFunction(function);
  if (info != null) {
    boolean hasSpecificSideEffects=false;
    if (hasSideEffectsThisAnnotation(info)) {
      if (inExterns) {
        hasSpecificSideEffects=true;
        sideEffectInfo.setTaintsThis();
      }
 else {
        traversal.report(function,INVALID_MODIFIES_ANNOTATION);
      }
    }
    if (hasSideEffectsArgumentsAnnotation(info)) {
      if (inExterns) {
        hasSpecificSideEffects=true;
        sideEffectInfo.setTaintsArguments();
      }
 else {
        traversal.report(function,INVALID_MODIFIES_ANNOTATION);
      }
    }
    if (!hasSpecificSideEffects) {
      if (hasNoSideEffectsAnnotation(info)) {
        if (inExterns) {
          sideEffectInfo.setIsPure();
        }
 else {
          traversal.report(function,INVALID_NO_SIDE_EFFECT_ANNOTATION);
        }
      }
 else       if (inExterns) {
        sideEffectInfo.setTaintsGlobalState();
      }
    }
  }
 else {
    if (inExterns) {
      sideEffectInfo.setTaintsGlobalState();
    }
  }
}

{
  n.setIsArrowFunction(false);
  Node body=n.getLastChild();
  if (!body.isBlock()) {
    body.detachFromParent();
    body=IR.block(IR.returnNode(body).srcref(body)).srcref(body);
    n.addChildToBack(body);
  }
  UpdateThisNodes thisUpdater=new UpdateThisNodes();
  NodeTraversal.traverse(compiler,body,thisUpdater);
  if (thisUpdater.changed) {
    addThisVar(t);
  }
  compiler.reportCodeChange();
}

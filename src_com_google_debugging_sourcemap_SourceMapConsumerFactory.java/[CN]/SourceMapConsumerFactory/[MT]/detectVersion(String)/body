{
  if (contents.startsWith("/** Begin line maps. **/")) {
    return SourceMapGenerator.Format.LEGACY;
  }
 else   if (contents.startsWith("{")) {
    return SourceMapGenerator.Format.EXPERIMENTIAL;
  }
 else {
    throw new SourceMapParseException("unable to detect source map format");
  }
}

{
  for (Node child=children; child != null; child=child.next) {
    Preconditions.checkArgument(child.parent == null);
    child.parent=this;
  }
  Node lastSib=children.getLastSibling();
  Preconditions.checkState(lastSib.next == null);
  lastSib.next=first;
  if (first != null) {
    first.previous=lastSib;
  }
  first=children;
  if (last == null) {
    last=lastSib;
  }
}

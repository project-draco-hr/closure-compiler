{
  if (!isEquivalentTo(expected,false,false,jsDoc)) {
    return new NodeMismatch(this,expected);
  }
  NodeMismatch res=null;
  Node n, n2;
  for (n=first, n2=expected.first; n != null; n=n.next, n2=n2.next) {
    res=n.checkTreeEqualsImpl(n2,jsDoc);
    if (res != null) {
      return res;
    }
  }
  return res;
}

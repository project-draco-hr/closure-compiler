{
  if (n == null || n.type != type) {
    return false;
  }
switch (type) {
case Token.NAME:
    return !getString().isEmpty() && getString().equals(n.getString());
case Token.THIS:
case Token.SUPER:
  return true;
case Token.GETPROP:
return getLastChild().getString().equals(n.getLastChild().getString()) && getFirstChild().matchesQualifiedName(n.getFirstChild());
default :
return false;
}
}

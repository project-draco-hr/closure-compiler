{
  com.google.javascript.jscomp.parsing.parser.SourceFile file=new com.google.javascript.jscomp.parsing.parser.SourceFile(sourceFile.getName(),sourceString);
  Es6ErrorReporter es6ErrorReporter=new Es6ErrorReporter(errorReporter,file,config);
  com.google.javascript.jscomp.parsing.parser.Parser.Config es6config=new com.google.javascript.jscomp.parsing.parser.Parser.Config(mode(config.languageMode));
  com.google.javascript.jscomp.parsing.parser.Parser p=new com.google.javascript.jscomp.parsing.parser.Parser(es6config,es6ErrorReporter,file);
  ProgramTree tree=null;
  try {
    tree=p.parseProgram();
  }
 catch (  EvaluatorException e) {
    logger.info("Error parsing " + sourceFile.getName() + ": "+ e.getMessage());
  }
  Node root=null;
  List<Comment> comments=ImmutableList.of();
  if (tree != null && (!es6ErrorReporter.hadError() || config.isIdeMode)) {
    root=NewIRFactory.transformTree(tree,sourceFile,sourceString,config,errorReporter);
    root.setIsSyntheticBlock(true);
    if (config.isIdeMode) {
      List<com.google.javascript.jscomp.parsing.parser.trees.Comment> parserComments=p.getComments();
      comments=Lists.newArrayListWithCapacity(parserComments.size());
      for (      com.google.javascript.jscomp.parsing.parser.trees.Comment c : parserComments) {
        comments.add(new CommentWrapper(c));
      }
    }
  }
  return new ParseResult(root,comments);
}

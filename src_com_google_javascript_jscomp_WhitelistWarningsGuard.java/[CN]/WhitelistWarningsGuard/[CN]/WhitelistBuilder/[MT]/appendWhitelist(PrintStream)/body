{
  out.append("# This is a list of legacy warnings that have yet to be fixed.\n");
  if (productName != null) {
    out.append("# Please find some time and fix at least one of them " + "and it will be the happiest day for " + productName + ".\n");
  }
  if (generatorTarget != null) {
    out.append("# When you fix any of these warnings, run " + generatorTarget + " task.\n");
  }
  Multimap<DiagnosticType,String> warningsByType=TreeMultimap.create();
  for (  JSError warning : warnings) {
    warningsByType.put(warning.getType(),formatWarning(warning,withLineNumber));
  }
  for (  DiagnosticType type : warningsByType.keySet()) {
    out.append("\n# Warning ").append(type.key).append(": ").println(getFirstLine(type.format.toPattern()));
    for (    String warning : warningsByType.get(type)) {
      out.println(warning);
    }
  }
}

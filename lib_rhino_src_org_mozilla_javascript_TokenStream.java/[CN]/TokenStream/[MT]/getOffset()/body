{
  int n=sourceCursor - lineStart;
  if (lineEndChar >= 0) {
    --n;
  }
  return n;
}

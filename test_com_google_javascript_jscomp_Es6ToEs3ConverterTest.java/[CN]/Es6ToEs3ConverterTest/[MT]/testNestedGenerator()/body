{
  test("function *f() { function *g() {yield 2;} yield 1; }",Joiner.on('\n').join("/** @suppress {uselessCode} */","var f = function() {","  var $jscomp$generator$state = 0;","  var g;","  return {","    $$iterator: function() { return this; },","    next: function($jscomp$generator$next$arg) {","      while (1) switch ($jscomp$generator$state) {","        case 0:","          g = function() {","            var $jscomp$generator$state = 0;","            return {","              $$iterator: function() { return this; },","              next: function($jscomp$generator$next$arg) {","                while (1) switch ($jscomp$generator$state) {","                  case 0:","                    $jscomp$generator$state = 1;","                    return {value: 2, done: false};","                  case 1:","                    $jscomp$generator$state = -1;","                  default:","                    return {value: undefined, done: true}","                }","              }","            }","          };","          $jscomp$generator$state = 1;","          return {value: 1, done: false};","        case 1:","          $jscomp$generator$state = -1;","        default:","          return {value: undefined, done: true}","      }","    }","  }","}"));
}

{
  int first=function.indexOf('(');
  int last=function.indexOf(')');
  Preconditions.checkState(first != -1 && last != -1);
  String name=function.substring(0,first);
  String params=function.substring(first + 1,last);
  int paramCount=0;
  int replacementParameter=-1;
  String[] parts=params.split(",");
  for (  String param : parts) {
    paramCount++;
    if (param.equals(REPLACE_ALL_MARKER)) {
      Preconditions.checkState(paramCount == 1 && parts.length == 1);
      replacementParameter=Config.REPLACE_ALL_VALUE;
    }
 else     if (param.equals(REPLACE_ONE_MARKER)) {
      Preconditions.checkState(replacementParameter == -1);
      replacementParameter=paramCount;
    }
 else {
      Preconditions.checkState(param.isEmpty(),"Unknown marker",param);
    }
  }
  Preconditions.checkState(replacementParameter != -1);
  return new Config(name,replacementParameter);
}

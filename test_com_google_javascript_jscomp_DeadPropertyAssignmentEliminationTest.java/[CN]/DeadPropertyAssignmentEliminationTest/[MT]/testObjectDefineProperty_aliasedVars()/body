{
  testSame(LINE_JOINER.join("function addGetter(obj, propName) {","  Object.defineProperty(obj, propName, {","    get: function() { return this[propName]; }","  });","};","/** @constructor */ function Foo() { this.enabled = false; this.x = null; };","addGetter(Foo.prototype, 'x');","function f() {","  var foo = new Foo()","  foo.enabled = true;","  foo.bar = 10;","  foo.enabled = false;","}","function z() {","  var x = {};","  x.bar = 10;","  x.bar = 20;","}"));
  testSame(LINE_JOINER.join("function f() {","  var foo = new Foo()","  foo.enabled = true;","  foo.bar = 10;","  foo.enabled = false;","}","function addGetter(obj, propName) {","  Object.defineProperty(obj, propName, {","    get: function() { return this[propName]; }","  });","};","/** @constructor */ function Foo() { this.enabled = false; this.x = null; };","addGetter(Foo.prototype, 'x');","function z() {","  var x = {};","  x.bar = 10;","  x.bar = 20;","}"));
  testSame(LINE_JOINER.join("/** @constructor */ function Foo() { this.enabled = false; this.x = null; };","var x = Foo.prototype;","Object.defineProperty(x, 'bar', {","  set: function (x) { this.x = this.enabled ? x * 2 : x; }","});","function f() {","  var foo = new Foo()","  foo.enabled = true;","  foo.bar = 10;","  foo.enabled = false;","}","function z() {","  var x = {};","  x.bar = 10;","  x.bar = 20;","}"));
  testSame(LINE_JOINER.join("/** @constructor */ function Foo() { this.enabled = false; this.x = null; };","var x = 'bar';","Object.defineProperty(Foo.prototype, x, {","  set: function (x) { this.x = this.enabled ? x * 2 : x; }","});","function f() {","  var foo = new Foo()","  foo.enabled = true;","  foo.bar = 10;","  foo.enabled = false;","}","function z() {","  var x = {};","  x.bar = 10;","  x.bar = 20;","}"));
  testSame(LINE_JOINER.join("/** @constructor */ function Foo() { this.enabled = false; this.x = null; };","var x = {","  set: function (x) { this.x = this.enabled ? x * 2 : x; }","};","Object.defineProperty(Foo.prototype, 'bar', x);","function f() {","  var foo = new Foo()","  foo.enabled = true;","  foo.bar = 10;","  foo.enabled = false;","}","function z() {","  var x = {};","  x.bar = 10;","  x.bar = 20;","}"));
}

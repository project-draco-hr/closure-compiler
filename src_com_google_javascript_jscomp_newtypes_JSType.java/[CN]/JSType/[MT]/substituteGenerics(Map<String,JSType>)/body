{
  if (isTop() || isUnknown() || getObjs() == null && getTypeVar() == null || concreteTypes.isEmpty() || !hasFreeTypeVars(new HashSet<String>())) {
    return this;
  }
  ImmutableSet<ObjectType> newObjs=null;
  if (getObjs() != null) {
    ImmutableSet.Builder<ObjectType> builder=ImmutableSet.builder();
    for (    ObjectType obj : getObjs()) {
      builder.add(obj.substituteGenerics(concreteTypes));
    }
    newObjs=builder.build();
  }
  JSType current=makeType(getMask() & ~TYPEVAR_MASK,newObjs,null,getEnums());
  if ((getMask() & TYPEVAR_MASK) != 0) {
    current=JSType.join(current,concreteTypes.containsKey(getTypeVar()) ? concreteTypes.get(getTypeVar()) : fromTypeVar(getTypeVar()));
  }
  return current;
}

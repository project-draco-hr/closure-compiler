{
  String targetTypevar=unifTarget.typeVar;
  if (targetTypevar != null && templateVars.contains(targetTypevar)) {
    int ftype=unifTarget.type;
    int atype=unifSource.type;
    int newtype=ftype;
    if ((ftype & ~TYPEVAR_MASK) == BOTTOM_MASK) {
      newtype=atype;
    }
 else     if (atype == TOP_MASK || atype == UNKNOWN_MASK) {
      return null;
    }
 else {
      newtype=atype & ~ftype & ~NON_SCALAR_MASK& ~TYPEVAR_MASK;
      if (newtype == BOTTOM_MASK) {
        return null;
      }
    }
    JSType unifiedType=new JSType(newtype,null,null,null);
    typeMultimap.get(unifTarget.typeVar).add(unifiedType);
  }
  return typeMultimap;
}

{
  int otherMask=other.mask;
  Preconditions.checkState(!other.isTop() && !other.isUnknown() && (otherMask & TYPEVAR_MASK) == 0 && (otherMask & ENUM_MASK) == 0);
  if (isUnknown()) {
    return this;
  }
  if (isTop()) {
    return ALMOST_TOP.removeType(other);
  }
  int newMask=mask & ~otherMask;
  if ((otherMask & NON_SCALAR_MASK) == 0) {
    return new JSType(newMask,location,objs,typeVar,enums);
  }
  Preconditions.checkState(other.objs.size() == 1,"Invalid type to remove: %s",other);
  ObjectType otherObj=Iterables.getOnlyElement(other.objs);
  ImmutableSet<ObjectType> newObjs=null;
  ImmutableSet<EnumType> newEnums=null;
  if (objs != null) {
    ImmutableSet.Builder<ObjectType> builder=ImmutableSet.builder();
    for (    ObjectType obj : objs) {
      if (!obj.isSubtypeOf(otherObj)) {
        builder.add(obj);
      }
    }
    newObjs=builder.build();
  }
  if (enums != null) {
    ImmutableSet.Builder<EnumType> builder=ImmutableSet.builder();
    for (    EnumType e : enums) {
      if (!e.getEnumeratedType().isSubtypeOf(other)) {
        builder.add(e);
      }
    }
    newEnums=builder.build();
  }
  return new JSType(newMask,location,newObjs,typeVar,newEnums);
}

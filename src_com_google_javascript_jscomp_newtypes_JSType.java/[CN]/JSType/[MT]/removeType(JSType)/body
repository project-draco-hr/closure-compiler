{
  if ((isTop() || isUnknown()) && other.equals(NULL)) {
    return TOP_MINUS_NULL;
  }
  if ((isTop() || isUnknown()) && other.equals(UNDEFINED)) {
    return TOP_MINUS_UNDEF;
  }
  if (other.equals(NULL) || other.equals(UNDEFINED)) {
    return new JSType(mask & ~other.mask,location,objs,typeVar,enums);
  }
  if (objs == null) {
    return this;
  }
  Preconditions.checkState((other.mask & ~NON_SCALAR_MASK) == 0 && other.objs.size() == 1);
  NominalType otherKlass=Iterables.getOnlyElement(other.objs).getNominalType();
  ImmutableSet.Builder<ObjectType> newObjs=ImmutableSet.builder();
  for (  ObjectType obj : objs) {
    if (!Objects.equal(obj.getNominalType(),otherKlass)) {
      newObjs.add(obj);
    }
  }
  return new JSType(mask,location,newObjs.build(),typeVar,enums);
}

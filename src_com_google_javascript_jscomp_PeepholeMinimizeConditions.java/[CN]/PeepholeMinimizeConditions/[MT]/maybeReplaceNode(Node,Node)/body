{
  if (lhs.isEquivalentTo(rhs)) {
    return lhs;
  }
  Node parent=lhs.getParent();
  parent.replaceChild(lhs,rhs);
  reportCodeChange();
  return rhs;
}

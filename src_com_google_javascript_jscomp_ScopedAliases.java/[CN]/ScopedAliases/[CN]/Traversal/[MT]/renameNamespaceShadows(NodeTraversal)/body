{
  if (hasNamespaceShadows) {
    MakeDeclaredNamesUnique.Renamer renamer=new MakeDeclaredNamesUnique.WhitelistedRenamer(new MakeDeclaredNamesUnique.ContextualRenamer(),forbiddenLocals);
    for (    String s : forbiddenLocals) {
      renamer.addDeclaredName(s,false);
    }
    MakeDeclaredNamesUnique uniquifier=new MakeDeclaredNamesUnique(renamer);
    Node scopeRoot=t.getScopeRoot();
    if (scopeRoot.isBlock() && scopeRoot.getParent().isFunction()) {
      scopeRoot=scopeRoot.getParent();
    }
    NodeTraversal.traverse(compiler,scopeRoot,uniquifier);
  }
}

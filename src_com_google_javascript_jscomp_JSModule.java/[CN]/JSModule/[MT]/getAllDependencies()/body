{
  Set<JSModule> allDeps=Sets.newHashSet(deps);
  ArrayDeque<JSModule> stack=Queues.newArrayDeque(deps);
  while (!stack.isEmpty()) {
    JSModule module=stack.pop();
    for (    JSModule dep : module.getDependencies()) {
      if (allDeps.add(dep)) {
        stack.push(dep);
      }
    }
  }
  return allDeps;
}

{
  if (n.isFunction()) {
    if (NodeUtil.isFunctionDeclaration(n)) {
      names.add(n.getFirstChild().getString());
    }
    return;
  }
 else   if (n.isName()) {
switch (n.getParent().getType()) {
case Token.VAR:
case Token.CATCH:
      names.add(n.getString());
  }
}
for (Node c=n.getFirstChild(); c != null; c=c.getNext()) {
  gatherLocalNames(c,names);
}
}

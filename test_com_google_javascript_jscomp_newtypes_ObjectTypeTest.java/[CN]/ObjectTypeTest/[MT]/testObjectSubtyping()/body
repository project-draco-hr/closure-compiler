{
  ObjectType topObj=ObjectType.TOP_OBJECT;
  ObjectType withPNum=topObj.withProperty(p,NUMBER);
  ObjectType withPStr=topObj.withProperty(p,STRING);
  ObjectType withOptionalProps=ObjectType.join(withPNum,topObj.withProperty(q,STRING));
  ObjectType withOneOptional=ObjectType.join(withPNum,topObj);
  assertTrue(withPNum.isSubtypeOf(topObj));
  assertTrue(withPNum.isSubtypeOf(withPNum));
  assertFalse(withPNum.isSubtypeOf(withPStr));
  assertTrue(topObj.isSubtypeOf(withOptionalProps));
  assertTrue(withOptionalProps.isSubtypeOf(topObj));
  assertTrue(withOptionalProps.isSubtypeOf(withOneOptional));
}

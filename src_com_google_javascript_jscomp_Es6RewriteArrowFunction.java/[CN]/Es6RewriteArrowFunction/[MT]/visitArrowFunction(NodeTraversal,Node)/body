{
  if (n.getParent().isStringKey() && NodeUtil.referencesThis(n)) {
    compiler.report(JSError.make(n,THIS_REFERENCE_IN_ARROWFUNC_OF_OBJLIT));
  }
  n.setIsArrowFunction(false);
  Node body=n.getLastChild();
  if (!body.isBlock()) {
    body.detachFromParent();
    body=IR.block(IR.returnNode(body)).useSourceInfoIfMissingFromForTree(body);
    n.addChildToBack(body);
  }
  UpdateThisAndArgumentsReferences updater=new UpdateThisAndArgumentsReferences();
  NodeTraversal.traverse(compiler,body,updater);
  addVarDecls(t,updater.changedThis,updater.changedArguments);
  compiler.reportCodeChange();
}

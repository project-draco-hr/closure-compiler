{
  NodeTraversal.traverse(compiler,externs,new GetGlobals());
  NodeTraversal.traverse(compiler,root,new GlobalGatherer());
  for (  Symbol global : globals.values()) {
    if (global.mutatorCount > 0) {
      continue;
    }
    int currentBytes=global.name.length() * global.accessorCount;
    int aliasedBytes=8 + global.name.length() + 2 * global.accessorCount;
    if (aliasedBytes < currentBytes) {
      global.aliasAccessor=true;
    }
  }
  for (  Symbol global : globals.values()) {
    for (    Node globalUse : global.uses) {
      replaceGlobalUse(globalUse);
    }
    if (global.aliasAccessor) {
      addGlobalAliasNode(global,getAddingRoot(global.deepestModuleAccess));
    }
  }
}

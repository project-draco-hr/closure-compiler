{
  this.compiler=compiler;
  this.moduleGraph=moduleGraph;
  if (!Strings.isNullOrEmpty(unaliasableGlobals) && !Strings.isNullOrEmpty(aliasableGlobals)) {
    throw new IllegalArgumentException("Cannot pass in both unaliasable and aliasable globals; you must " + "choose one or the other.");
  }
  if (!Strings.isNullOrEmpty(unaliasableGlobals)) {
    Iterables.addAll(this.unaliasableGlobals,Splitter.on(',').split(unaliasableGlobals));
  }
  if (!Strings.isNullOrEmpty(aliasableGlobals)) {
    Iterables.addAll(this.aliasableGlobals,Splitter.on(',').split(aliasableGlobals));
  }
  if (moduleGraph != null) {
    moduleRoots=new HashMap<>();
  }
}

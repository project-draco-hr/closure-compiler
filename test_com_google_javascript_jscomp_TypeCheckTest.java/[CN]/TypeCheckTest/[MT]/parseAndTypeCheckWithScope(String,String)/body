{
  Node externsNode=compiler.parseTestCode(externs);
  Node n=compiler.parseTestCode(js);
  Node externAndJsRoot=new Node(Token.BLOCK,externsNode,n);
  externAndJsRoot.setIsSyntheticBlock(true);
  assertEquals("parsing error: " + Joiner.on(", ").join(compiler.getErrors()),0,compiler.getErrorCount());
  Scope s=makeTypeCheck().processForTesting(externsNode,n);
  return new TypeCheckResult(n,s);
}

{
  String sourceFile=node.getSourceFileName();
  if (sourceFile == null || node.getLineno() < 0) {
    return;
  }
  sourceFile=fixupSourceLocation(sourceFile);
  String originalName=(String)node.getProp(Node.ORIGINALNAME_PROP);
  int lineBaseOffset=1;
  if (generator instanceof SourceMapGeneratorV1 || generator instanceof SourceMapGeneratorV2) {
    lineBaseOffset=0;
  }
  generator.addMapping(sourceFile,originalName,new FilePosition(node.getLineno() - lineBaseOffset,node.getCharno()),outputStartPosition,outputEndPosition);
}

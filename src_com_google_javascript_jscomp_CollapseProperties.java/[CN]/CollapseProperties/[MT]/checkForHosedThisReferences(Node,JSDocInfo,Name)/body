{
  if (docInfo == null || (!docInfo.isConstructor() && !docInfo.hasThisType())) {
    NodeTraversal.traverse(compiler,function.getLastChild(),new NodeTraversal.AbstractShallowCallback(){
      public void visit(      NodeTraversal t,      Node n,      Node parent){
        if (n.getType() == Token.THIS) {
          compiler.report(JSError.make(name.declaration.sourceName,n,UNSAFE_THIS,name.fullName()));
        }
      }
    }
);
  }
}

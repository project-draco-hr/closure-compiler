{
  String originalName=n.fullName();
  if (n.declaration != null && n.declaration.node != null && n.declaration.node.getType() == Token.GETPROP) {
    flattenNameRefAtDepth(alias,n.declaration.node,depth,originalName);
  }
  for (  Ref r : n.getRefs()) {
    if (r == n.declaration) {
      continue;
    }
    if (r.getTwin() == null || r.isSet()) {
      flattenNameRefAtDepth(alias,r.node,depth,originalName);
    }
  }
  if (n.props != null) {
    for (    Name p : n.props) {
      flattenPrefixes(alias,p,depth + 1);
    }
  }
}

{
  String originalName=n.fullName();
  if (n.declaration != null && n.declaration.node != null && n.declaration.node.getType() == Token.GETPROP) {
    flattenNameRefAtDepth(alias,n.declaration.node,depth,originalName);
  }
  if (n.refs != null) {
    for (    Ref r : n.refs) {
      if (r.getTwin() == null || r.isSet()) {
        flattenNameRefAtDepth(alias,r.node,depth,originalName);
      }
    }
  }
  if (n.props != null) {
    for (    Name p : n.props) {
      flattenPrefixes(alias,p,depth + 1);
    }
  }
}

{
  if (forTranspileOnly) {
    if (compiler.getOptions().getLanguageIn().isEs6OrHigher() && TranspilationPasses.isScriptEs6ImplOrHigher(scriptRoot)) {
      new ReferenceCollectingCallback(compiler,new ReferenceCheckingBehavior()).hotSwapScript(scriptRoot,originalRoot);
    }
  }
 else {
    new ReferenceCollectingCallback(compiler,new ReferenceCheckingBehavior()).hotSwapScript(scriptRoot,originalRoot);
  }
}
